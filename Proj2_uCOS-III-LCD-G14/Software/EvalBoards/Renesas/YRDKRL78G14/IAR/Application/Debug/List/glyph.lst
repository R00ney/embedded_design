###############################################################################
#                                                                             #
# IAR C/C++ Compiler V1.30.5.50715 for RL78             23/Mar/2014  17:08:36 #
# Copyright 2011-2013 IAR Systems AB.                                         #
# Network license: ece-lic-19.ece.ncsu.edu (STD)                              #
#                                                                             #
#    Core         =  rl78_2                                                   #
#    Code model   =  Near                                                     #
#    Data model   =  Near                                                     #
#                 =                                                           #
#    Source file  =  C:\Users\Suddenlink\Dropbox\git_files\embedded_design\Pr #
#                    oj2_uCOS-III-LCD-G14\Software\EvalBoards\Renesas\YRDKRL7 #
#                    8G14\IAR\BSP\Glyph\glyph\glyph.c                         #
#    Command line =  C:\Users\Suddenlink\Dropbox\git_files\embedded_design\Pr #
#                    oj2_uCOS-III-LCD-G14\Software\EvalBoards\Renesas\YRDKRL7 #
#                    8G14\IAR\BSP\Glyph\glyph\glyph.c --core rl78_2           #
#                    --code_model near --data_model near                      #
#                    --near_const_location rom0 -o                            #
#                    C:\Users\Suddenlink\Dropbox\git_files\embedded_design\Pr #
#                    oj2_uCOS-III-LCD-G14\Software\EvalBoards\Renesas\YRDKRL7 #
#                    8G14\IAR\Application\Debug\Obj\ --dlib_config            #
#                    "C:\Program Files\IAR Systems\Embedded Workbench         #
#                    6.5\rl78\LIB\dlrl78nn2n.h" -e -Ohz --no_scheduling       #
#                    --no_clustering --debug -lC                              #
#                    C:\Users\Suddenlink\Dropbox\git_files\embedded_design\Pr #
#                    oj2_uCOS-III-LCD-G14\Software\EvalBoards\Renesas\YRDKRL7 #
#                    8G14\IAR\Application\Debug\List\ -I                      #
#                    C:\Users\Suddenlink\Dropbox\git_files\embedded_design\Pr #
#                    oj2_uCOS-III-LCD-G14\Software\EvalBoards\Renesas\YRDKRL7 #
#                    8G14\IAR\Application\ -I C:\Users\Suddenlink\Dropbox\git #
#                    _files\embedded_design\Proj2_uCOS-III-LCD-G14\Software\E #
#                    valBoards\Renesas\YRDKRL78G14\IAR\Application\Source\    #
#                    -I C:\Users\Suddenlink\Dropbox\git_files\embedded_design #
#                    \Proj2_uCOS-III-LCD-G14\Software\EvalBoards\Renesas\YRDK #
#                    RL78G14\IAR\Application\..\uCOS-III\ -I                  #
#                    C:\Users\Suddenlink\Dropbox\git_files\embedded_design\Pr #
#                    oj2_uCOS-III-LCD-G14\Software\EvalBoards\Renesas\YRDKRL7 #
#                    8G14\IAR\Application\..\BSP\ -I                          #
#                    C:\Users\Suddenlink\Dropbox\git_files\embedded_design\Pr #
#                    oj2_uCOS-III-LCD-G14\Software\EvalBoards\Renesas\YRDKRL7 #
#                    8G14\IAR\Application\..\BSP\applilet3_src\ -I            #
#                    C:\Users\Suddenlink\Dropbox\git_files\embedded_design\Pr #
#                    oj2_uCOS-III-LCD-G14\Software\EvalBoards\Renesas\YRDKRL7 #
#                    8G14\IAR\Application\..\BSP\Glyph\Drivers\ -I            #
#                    C:\Users\Suddenlink\Dropbox\git_files\embedded_design\Pr #
#                    oj2_uCOS-III-LCD-G14\Software\EvalBoards\Renesas\YRDKRL7 #
#                    8G14\IAR\Application\..\BSP\Glyph\glyph\ -I              #
#                    C:\Users\Suddenlink\Dropbox\git_files\embedded_design\Pr #
#                    oj2_uCOS-III-LCD-G14\Software\EvalBoards\Renesas\YRDKRL7 #
#                    8G14\IAR\Application\..\..\..\..\..\uC-CPU\ -I           #
#                    C:\Users\Suddenlink\Dropbox\git_files\embedded_design\Pr #
#                    oj2_uCOS-III-LCD-G14\Software\EvalBoards\Renesas\YRDKRL7 #
#                    8G14\IAR\Application\..\..\..\..\..\uC-CPU\RL78\IAR\ -I  #
#                    C:\Users\Suddenlink\Dropbox\git_files\embedded_design\Pr #
#                    oj2_uCOS-III-LCD-G14\Software\EvalBoards\Renesas\YRDKRL7 #
#                    8G14\IAR\Application\..\..\..\..\..\uC-LIB\ -I           #
#                    C:\Users\Suddenlink\Dropbox\git_files\embedded_design\Pr #
#                    oj2_uCOS-III-LCD-G14\Software\EvalBoards\Renesas\YRDKRL7 #
#                    8G14\IAR\Application\..\..\..\..\..\uCOS-III\Ports\Renes #
#                    as\RL78\IAR\ -I C:\Users\Suddenlink\Dropbox\git_files\em #
#                    bedded_design\Proj2_uCOS-III-LCD-G14\Software\EvalBoards #
#                    \Renesas\YRDKRL78G14\IAR\Application\..\..\..\..\..\uCOS #
#                    -III\Source\ --relaxed_fp                                #
#    List file    =  C:\Users\Suddenlink\Dropbox\git_files\embedded_design\Pr #
#                    oj2_uCOS-III-LCD-G14\Software\EvalBoards\Renesas\YRDKRL7 #
#                    8G14\IAR\Application\Debug\List\glyph.lst                #
#    Object file  =  C:\Users\Suddenlink\Dropbox\git_files\embedded_design\Pr #
#                    oj2_uCOS-III-LCD-G14\Software\EvalBoards\Renesas\YRDKRL7 #
#                    8G14\IAR\Application\Debug\Obj\glyph.r87                 #
#                                                                             #
#                                                                             #
###############################################################################

C:\Users\Suddenlink\Dropbox\git_files\embedded_design\Proj2_uCOS-III-LCD-G14\Software\EvalBoards\Renesas\YRDKRL78G14\IAR\BSP\Glyph\glyph\glyph.c
      1          /******************************************************************************
      2          * DISCLAIMER
      3          * This software is supplied by Renesas Electronics Corporation and is only
      4          * intended for use with Renesas products. No other uses are authorized.
      5          * This software is owned by Renesas Electronics Corporation and is protected under
      6          * all applicable laws, including copyright laws.
      7          * THIS SOFTWARE IS PROVIDED "AS IS" AND RENESAS MAKES NO WARRANTIES
      8          * REGARDING THIS SOFTWARE, WHETHER EXPRESS, IMPLIED OR STATUTORY,
      9          * INCLUDING BUT NOT LIMITED TO WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
     10          * PARTICULAR PURPOSE AND NON-INFRINGEMENT. ALL SUCH WARRANTIES ARE EXPRESSLY
     11          * DISCLAIMED.
     12          * TO THE MAXIMUM EXTENT PERMITTED NOT PROHIBITED BY LAW, NEITHER RENESAS
     13          * ELECTRONICS CORPORATION NOR ANY OF ITS AFFILIATED COMPANIES SHALL BE LIABLE
     14          * FOR ANY DIRECT, INDIRECT, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
     15          * FOR ANY REASON RELATED TO THIS SOFTWARE, EVEN IF RENESAS OR ITS
     16          * AFFILIATES HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
     17          * Renesas reserves the right, without notice, to make changes to this
     18          * software and to discontinue the availability of this software.
     19          * By using this software, you agree to the additional terms and
     20          * conditions found by accessing the following link:
     21          * http://www.renesas.com/disclaimer
     22          ******************************************************************************/
     23          /* Copyright (C) 2010 Renesas Electronics Corporation. All rights reserved. */
     24          /* Code written for Renesas by Future Designs, Inc. www.teamfdi.com */
     25          
     26          /******************************************************************************
     27          * File Name : Glyph.c
     28          * Version : 1.00
     29          * Device(s) : Generic
     30          * Tool-Chain : Glyph - The Generic API for Graphics LCD.
     31          * H/W Platform : Embedded Controls
     32          * Description : This is the Glyph API Library definitions.
     33          *               The Generic API for Graphics LCD (nicknamed "Glyph") is a 
     34          *               reusable software design to support multiple projects where 
     35          *               the LCD size and resolution may change, but the basic feature 
     36          *               set will stay consistent.  Glyph is a standard library 
     37          *               interface for use with any graphic LCD.  
     38          ******************************************************************************
     39          * History :
     40          * : 20.07.2010 1.00 First Release
     41          ******************************************************************************/
     42          
     43          /******************************************************************************
     44          Includes “Glyph Includes”
     45          ******************************************************************************/
     46          #include <stdio.h>
     47          #include <stdlib.h>

   \                                 In  segment CODE, align 1, keep-with-next
   \   __intrinsic __nounwind __near_func void free(void *)
   \                     free:
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 0
   \   000000                       ; Auto size: 0
   \   000000 ED....                BR        N:__near_free      ;; 3 cycles
   \   000003                       ; ------------------------------------- Block: 3 cycles
   \   000003                       ; ------------------------------------- Total: 3 cycles
   \   000003                       REQUIRE ?CLRL78_V1_0_L00

   \                                 In  segment CODE, align 1, keep-with-next
   \   __intrinsic __nounwind __near_func void *malloc(size_t)
   \                     malloc:
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 0
   \   000000                       ; Auto size: 0
   \   000000 ED....                BR        N:__near_malloc    ;; 3 cycles
   \   000003                       ; ------------------------------------- Block: 3 cycles
   \   000003                       ; ------------------------------------- Total: 3 cycles
   \   000003                       REQUIRE ?CLRL78_V1_0_L00
     48          #include "glyph_cfg.h"
     49          #include "glyph_api.h"
     50          
     51          /******************************************************************************
     52          Private Prototypes for the Glyph LCD API
     53          ******************************************************************************/
     54          T_glyphError GlyphLCDOpen(T_glyphHandle aHandle, int32_t aAddress) ;
     55          T_glyphError GlyphCommOpen(T_glyphHandle aHandle, int32_t aAddress) ;
     56          
     57          /******************************************************************************
     58          * ID : 1.0
     59          * Outline : GlyphOpen
     60          * Include : Glyph.h
     61          * Function Name: GlyphOpen
     62          * Description : Open the Glyph API.
     63          * Argument : aHandle - handle passed in and initialized.
     64          *          : aAddress - The numerical definition of the communications
     65          *                       and LCD Display set used for this instance of
     66          *                       the passed in handle.
     67          * Return Value : 0=success, not 0= error
     68          * Calling Functions : main
     69          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
     70          T_glyphError GlyphOpen(T_glyphHandle *aHandle, int32_t aAddress)
   \                     GlyphOpen:
     71          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 4
   \   000000 C3                    PUSH      BC                 ;; 1 cycle
   \   000001 C5                    PUSH      DE                 ;; 1 cycle
   \   000002 C1                    PUSH      AX                 ;; 1 cycle
   \   000003                       ; Auto size: 4
   \   000003 C1                    PUSH      AX                 ;; 1 cycle
     72              T_glyphError error = GLYPH_ERROR_ILLEGAL_OPERATION ;
   \   000004 5501                  MOV       D, #0x1            ;; 1 cycle
     73              //T_glyphWorkspace *p_glyph = (T_glyphWorkspace *)aHandle;
     74              T_glyphWorkspace *p_glyph ;
     75          
     76              p_glyph = (T_glyphWorkspace *)malloc(sizeof(T_glyphWorkspace)) ;
   \   000006 300400                MOVW      AX, #0x4           ;; 1 cycle
   \   000009 FD....                CALL      malloc             ;; 3 cycles
   \   00000C B800                  MOVW      [SP], AX           ;; 1 cycle
     77              p_glyph->iCommAPI = (T_Comm_API *)malloc(sizeof(T_Comm_API)) ;
   \   00000E 300600                MOVW      AX, #0x6           ;; 1 cycle
   \   000011 FD....                CALL      malloc             ;; 3 cycles
   \   000014 12                    MOVW      BC, AX             ;; 1 cycle
   \   000015 A800                  MOVW      AX, [SP]           ;; 1 cycle
   \   000017 16                    MOVW      HL, AX             ;; 1 cycle
   \   000018 13                    MOVW      AX, BC             ;; 1 cycle
   \   000019 BC02                  MOVW      [HL+0x02], AX      ;; 1 cycle
     78              p_glyph->iLCDAPI = (T_LCD_API *)malloc(sizeof(T_LCD_API)) ;
   \   00001B 304A00                MOVW      AX, #0x4A          ;; 1 cycle
   \   00001E FD....                CALL      malloc             ;; 3 cycles
   \   000021 12                    MOVW      BC, AX             ;; 1 cycle
   \   000022 A800                  MOVW      AX, [SP]           ;; 1 cycle
   \   000024 16                    MOVW      HL, AX             ;; 1 cycle
   \   000025 33                    XCHW      AX, BC             ;; 1 cycle
   \   000026 BB                    MOVW      [HL], AX           ;; 1 cycle
     79              
     80              *aHandle = (T_glyphHandle)p_glyph ;
   \   000027 A802                  MOVW      AX, [SP+0x02]      ;; 1 cycle
   \   000029 16                    MOVW      HL, AX             ;; 1 cycle
   \   00002A 13                    MOVW      AX, BC             ;; 1 cycle
   \   00002B BB                    MOVW      [HL], AX           ;; 1 cycle
     81              
     82              /* Open the communications and the LCD */
     83              if (GlyphCommOpen(*aHandle, aAddress) == GLYPH_ERROR_NONE) {
   \   00002C A80E                  MOVW      AX, [SP+0x0E]      ;; 1 cycle
   \   00002E 12                    MOVW      BC, AX             ;; 1 cycle
   \   00002F A80C                  MOVW      AX, [SP+0x0C]      ;; 1 cycle
   \   000031 C3                    PUSH      BC                 ;; 1 cycle
   \   000032 C1                    PUSH      AX                 ;; 1 cycle
   \   000033 AB                    MOVW      AX, [HL]           ;; 1 cycle
   \   000034 FD....                CALL      GlyphCommOpen      ;; 3 cycles
   \   000037 D1                    CMP0      A                  ;; 1 cycle
   \   000038 DF24                  BNZ       ??GlyphSetContrastBoost_0  ;; 4 cycles
   \   00003A                       ; ------------------------------------- Block: 46 cycles
     84                  if (GlyphLCDOpen(*aHandle, aAddress) == GLYPH_ERROR_NONE) {
   \   00003A A80C                  MOVW      AX, [SP+0x0C]      ;; 1 cycle
   \   00003C C3                    PUSH      BC                 ;; 1 cycle
   \   00003D C1                    PUSH      AX                 ;; 1 cycle
   \   00003E A806                  MOVW      AX, [SP+0x06]      ;; 1 cycle
   \   000040 16                    MOVW      HL, AX             ;; 1 cycle
   \   000041 AB                    MOVW      AX, [HL]           ;; 1 cycle
   \   000042 FD....                CALL      GlyphLCDOpen       ;; 3 cycles
   \   000045 D1                    CMP0      A                  ;; 1 cycle
   \   000046 DF16                  BNZ       ??GlyphSetContrastBoost_0  ;; 4 cycles
   \   000048                       ; ------------------------------------- Block: 14 cycles
     85                      error = p_glyph->iLCDAPI->iOpen(*aHandle, aAddress) ;
   \   000048 A80C                  MOVW      AX, [SP+0x0C]      ;; 1 cycle
   \   00004A C3                    PUSH      BC                 ;; 1 cycle
   \   00004B C1                    PUSH      AX                 ;; 1 cycle
   \   00004C A806                  MOVW      AX, [SP+0x06]      ;; 1 cycle
   \   00004E 16                    MOVW      HL, AX             ;; 1 cycle
   \   00004F AB                    MOVW      AX, [HL]           ;; 1 cycle
   \   000050 16                    MOVW      HL, AX             ;; 1 cycle
   \   000051 A804                  MOVW      AX, [SP+0x04]      ;; 1 cycle
   \   000053 14                    MOVW      DE, AX             ;; 1 cycle
   \   000054 A9                    MOVW      AX, [DE]           ;; 1 cycle
   \   000055 14                    MOVW      DE, AX             ;; 1 cycle
   \   000056 AA42                  MOVW      AX, [DE+0x42]      ;; 1 cycle
   \   000058 FD....                CALL      N:??Subroutine12_0  ;; 3 cycles
   \   00005B                       ; ------------------------------------- Block: 15 cycles
     86                  }
     87              }
   \                     ??CrossCallReturnLabel_18:
   \   00005B 61DA                  CALL      BC                 ;; 3 cycles
   \   00005D 75                    MOV       D, A               ;; 1 cycle
   \   00005E                       ; ------------------------------------- Block: 4 cycles
     88              
     89              return error ;
   \                     ??GlyphSetContrastBoost_0:
   \   00005E 65                    MOV       A, D               ;; 1 cycle
   \   00005F 1004                  ADDW      SP, #0x4           ;; 1 cycle
   \   000061 ED....                BR        N:??Subroutine13_0  ;; 3 cycles
   \   000064                       ; ------------------------------------- Block: 5 cycles
   \   000064                       ; ------------------------------------- Total: 84 cycles
   \   000064                       REQUIRE ?CLRL78_V1_0_L00
     90          }

   \                                 In  segment CODE, align 1, keep-with-next
   \                     ??Subroutine12_0:
   \   000000 12                    MOVW      BC, AX             ;; 1 cycle
   \   000001 CEFC00                MOV       CS, #0x0           ;; 1 cycle
   \   000004 17                    MOVW      AX, HL             ;; 1 cycle
   \   000005 D7                    RET                          ;; 6 cycles
   \   000006                       ; ------------------------------------- Block: 9 cycles
   \   000006                       ; ------------------------------------- Total: 9 cycles
   \   000006                       REQUIRE ?CLRL78_V1_0_L00

   \                                 In  segment CODE, align 1, keep-with-next
   \                     ??Subroutine13_0:
   \   000000 C4                    POP       DE                 ;; 1 cycle
   \   000001 C2                    POP       BC                 ;; 1 cycle
   \   000002                       ; ------------------------------------- Block: 2 cycles
   \   000002                       ; ------------------------------------- Total: 2 cycles
   \   000002                       REQUIRE ?CLRL78_V1_0_L00
   \   000002                       REQUIRE ??Subroutine14_0
   \   000002                       ; // Fall through to label ??Subroutine14_0

   \                                 In  segment CODE, align 1, keep-with-next
   \                     ??Subroutine14_0:
   \   000000 FD....                CALL      N:?FUNC_LEAVE_L06
   \   000003 0400                  DW        0x4                ;; 3 cycles
   \   000005                       ; ------------------------------------- Block: 3 cycles
   \   000005                       ; ------------------------------------- Total: 3 cycles
   \   000005                       REQUIRE ?CLRL78_V1_0_L00
     91          
     92          /******************************************************************************
     93          * ID : 1.1
     94          * Outline : GlyphClose
     95          * Include : Glyph.h
     96          * Function Name: GlyphClose
     97          * Description : Close the Glyph API.
     98          * Argument : aHandle - handle created and returned.
     99          * Return Value : 0=success, not 0= error
    100          * Calling Functions : main
    101          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    102          T_glyphError GlyphClose(T_glyphHandle *aHandle)
   \                     GlyphClose:
    103          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 0
   \   000000 C3                    PUSH      BC                 ;; 1 cycle
   \   000001 C5                    PUSH      DE                 ;; 1 cycle
   \   000002 C1                    PUSH      AX                 ;; 1 cycle
   \   000003                       ; Auto size: 2
    104              T_glyphError error = GLYPH_ERROR_ILLEGAL_OPERATION ;
    105              T_glyphWorkspace *p_glyph = (T_glyphWorkspace *)*aHandle;
   \   000003 16                    MOVW      HL, AX             ;; 1 cycle
   \   000004 AB                    MOVW      AX, [HL]           ;; 1 cycle
   \   000005 14                    MOVW      DE, AX             ;; 1 cycle
    106              
    107              GlyphClearScreen(*aHandle) ;
   \   000006 FD....                CALL      GlyphClearScreen   ;; 3 cycles
    108          
    109              error = p_glyph->iLCDAPI->iClose(aHandle);
   \   000009 A800                  MOVW      AX, [SP]           ;; 1 cycle
   \   00000B C1                    PUSH      AX                 ;; 1 cycle
   \   00000C A9                    MOVW      AX, [DE]           ;; 1 cycle
   \   00000D 16                    MOVW      HL, AX             ;; 1 cycle
   \   00000E AC44                  MOVW      AX, [HL+0x44]      ;; 1 cycle
   \   000010 FD....                CALL      N:??Subroutine11_0  ;; 3 cycles
   \   000013                       ; ------------------------------------- Block: 17 cycles
   \                     ??CrossCallReturnLabel_7:
   \   000013 C0                    POP       AX                 ;; 1 cycle
   \   000014 61DA                  CALL      BC                 ;; 3 cycles
   \   000016 73                    MOV       B, A               ;; 1 cycle
    110              if (error == GLYPH_ERROR_NONE) {
   \   000017 D3                    CMP0      B                  ;; 1 cycle
   \   000018 DF15                  BNZ       ??GlyphSetContrastBoost_1  ;; 4 cycles
   \   00001A                       ; ------------------------------------- Block: 10 cycles
    111                  free((void *)p_glyph->iLCDAPI) ;
   \   00001A A9                    MOVW      AX, [DE]           ;; 1 cycle
   \   00001B FD....                CALL      free               ;; 3 cycles
    112                  p_glyph->iLCDAPI = 0 ;
   \   00001E F6                    CLRW      AX                 ;; 1 cycle
   \   00001F B9                    MOVW      [DE], AX           ;; 1 cycle
    113                  free((void *)p_glyph->iCommAPI) ;
   \   000020 AA02                  MOVW      AX, [DE+0x02]      ;; 1 cycle
   \   000022 FD....                CALL      free               ;; 3 cycles
    114                  p_glyph->iCommAPI = 0 ;
   \   000025 F6                    CLRW      AX                 ;; 1 cycle
   \   000026 BA02                  MOVW      [DE+0x02], AX      ;; 1 cycle
    115                  free((void *)p_glyph) ;
   \   000028 15                    MOVW      AX, DE             ;; 1 cycle
   \   000029 FD....                CALL      free               ;; 3 cycles
    116                  p_glyph = 0 ;
   \   00002C 340000                MOVW      DE, #0x0           ;; 1 cycle
   \   00002F                       ; ------------------------------------- Block: 17 cycles
    117              }
    118              
    119              *aHandle = (T_glyphHandle)p_glyph ;
   \                     ??GlyphSetContrastBoost_1:
   \   00002F A800                  MOVW      AX, [SP]           ;; 1 cycle
   \   000031 16                    MOVW      HL, AX             ;; 1 cycle
   \   000032 15                    MOVW      AX, DE             ;; 1 cycle
   \   000033 BB                    MOVW      [HL], AX           ;; 1 cycle
    120              
    121              return error ;
   \   000034 63                    MOV       A, B               ;; 1 cycle
   \   000035 1002                  ADDW      SP, #0x2           ;; 1 cycle
   \   000037 C4                    POP       DE                 ;; 1 cycle
   \   000038 C2                    POP       BC                 ;; 1 cycle
   \   000039 D7                    RET                          ;; 6 cycles
   \   00003A                       ; ------------------------------------- Block: 14 cycles
   \   00003A                       ; ------------------------------------- Total: 58 cycles
   \   00003A                       REQUIRE ?CLRL78_V1_0_L00
    122          }

   \                                 In  segment CODE, align 1, keep-with-next
   \                     ??Subroutine11_0:
   \   000000 12                    MOVW      BC, AX             ;; 1 cycle
   \   000001 CEFC00                MOV       CS, #0x0           ;; 1 cycle
   \   000004 D7                    RET                          ;; 6 cycles
   \   000005                       ; ------------------------------------- Block: 8 cycles
   \   000005                       ; ------------------------------------- Total: 8 cycles
   \   000005                       REQUIRE ?CLRL78_V1_0_L00
    123          
    124          /******************************************************************************
    125          * ID : 2.0
    126          * Outline : GlyphWrite
    127          * Include : Glyph.h
    128          * Function Name: GlyphWrite
    129          * Description : Write to the LCD using a Glyph Register value, to the Glyph
    130          * data storage or run an LCD Glyph Command.
    131          * Argument : aHandle - handle created and returned.
    132          *          : aAddress - may be used for communications.
    133          * Return Value : 0=success, not 0= error
    134          * Calling Functions : main, GlyphSetX, GlyphSetY, GlyphSetXY,
    135          *                     GlyphSetFont, GlyphSetDrawMode,
    136          *                     GlyphChar, GlyphString, GlyphClearScreen,
    137          *                     GlyphInvertScreen, GlyphNormalScreen, GlyphSleep,
    138          *                     GlyphWake, GlyphDrawTestPattern, GlyphDrawBlock,
    139          *                     GlyphEraseBlock, GlyphSetContrast, GlyphSetContrastBoost
    140          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    141          T_glyphError GlyphWrite(T_glyphHandle aHandle, uint32_t aRegister, uint32_t aValue)
   \                     GlyphWrite:
    142          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 8
   \   000000 C3                    PUSH      BC                 ;; 1 cycle
   \   000001 C5                    PUSH      DE                 ;; 1 cycle
   \   000002                       ; Auto size: 0
   \   000002 14                    MOVW      DE, AX             ;; 1 cycle
    143              T_glyphWorkspace *p_glyph = (T_glyphWorkspace *)aHandle;
    144          
    145              return p_glyph->iLCDAPI->iWrite(aHandle, aRegister, aValue);
   \   000003 A80E                  MOVW      AX, [SP+0x0E]      ;; 1 cycle
   \   000005 12                    MOVW      BC, AX             ;; 1 cycle
   \   000006 A80C                  MOVW      AX, [SP+0x0C]      ;; 1 cycle
   \   000008 C3                    PUSH      BC                 ;; 1 cycle
   \   000009 C1                    PUSH      AX                 ;; 1 cycle
   \   00000A A80E                  MOVW      AX, [SP+0x0E]      ;; 1 cycle
   \   00000C 12                    MOVW      BC, AX             ;; 1 cycle
   \   00000D A80C                  MOVW      AX, [SP+0x0C]      ;; 1 cycle
   \   00000F C3                    PUSH      BC                 ;; 1 cycle
   \   000010 C1                    PUSH      AX                 ;; 1 cycle
   \   000011 C5                    PUSH      DE                 ;; 1 cycle
   \   000012 C6                    POP       HL                 ;; 1 cycle
   \   000013 FD....                CALL      N:?Subroutine7     ;; 3 cycles
   \   000016                       ; ------------------------------------- Block: 18 cycles
   \                     ??CrossCallReturnLabel_19:
   \   000016 61DA                  CALL      BC                 ;; 3 cycles
   \   000018                       ; ------------------------------------- Block: 3 cycles
   \   000018                       ; ------------------------------------- Total: 21 cycles
   \   000018                       REQUIRE ?CLRL78_V1_0_L00
   \   000018                       REQUIRE ?Subroutine4
   \   000018                       ; // Fall through to label ?Subroutine4
    146          }

   \                                 In  segment CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000 C4                    POP       DE                 ;; 1 cycle
   \   000001 C2                    POP       BC                 ;; 1 cycle
   \   000002 FD....                CALL      N:?FUNC_LEAVE_L06
   \   000005 0800                  DW        0x8                ;; 3 cycles
   \   000007                       ; ------------------------------------- Block: 5 cycles
   \   000007                       ; ------------------------------------- Total: 5 cycles
   \   000007                       REQUIRE ?CLRL78_V1_0_L00

   \                                 In  segment CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000 A9                    MOVW      AX, [DE]           ;; 1 cycle
   \   000001 14                    MOVW      DE, AX             ;; 1 cycle
   \   000002 AA48                  MOVW      AX, [DE+0x48]      ;; 1 cycle
   \   000004                       ; ------------------------------------- Block: 3 cycles
   \   000004                       ; ------------------------------------- Total: 3 cycles
   \   000004                       REQUIRE ?CLRL78_V1_0_L00
   \   000004                       REQUIRE ??Subroutine12_0
   \   000004                       ; // Fall through to label ??Subroutine12_0
    147          
    148          /******************************************************************************
    149          * ID : 3.0
    150          * Outline : GlyphRead
    151          * Include : Glyph.h
    152          * Function Name: GlyphRead
    153          * Description : Read from the Glyph data storage using a Glyph Register value.
    154          * Argument : aHandle - handle created and returned.
    155          *          : aAddress - may be used for communications.
    156          * Return Value : 0=success, not 0= error
    157          * Calling Functions : main, GlyphGetStatus, GlyphGetX, GlyphGetY, GlyphGetXY,
    158          *                     GlyphGetFont, GlyphGetFont
    159          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    160          T_glyphError GlyphRead(T_glyphHandle aHandle, uint32_t aRegister, uint32_t *aValue)
   \                     GlyphRead:
    161          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 4
   \   000000 C5                    PUSH      DE                 ;; 1 cycle
   \   000001 C3                    PUSH      BC                 ;; 1 cycle
   \   000002                       ; Auto size: 2
   \   000002 14                    MOVW      DE, AX             ;; 1 cycle
    162              T_glyphWorkspace *p_glyph = (T_glyphWorkspace *)aHandle;
    163          
    164              return p_glyph->iLCDAPI->iRead(aHandle, aRegister, aValue) ;
   \   000003 A80A                  MOVW      AX, [SP+0x0A]      ;; 1 cycle
   \   000005 12                    MOVW      BC, AX             ;; 1 cycle
   \   000006 A808                  MOVW      AX, [SP+0x08]      ;; 1 cycle
   \   000008 C3                    PUSH      BC                 ;; 1 cycle
   \   000009 C1                    PUSH      AX                 ;; 1 cycle
   \   00000A A804                  MOVW      AX, [SP+0x04]      ;; 1 cycle
   \   00000C 12                    MOVW      BC, AX             ;; 1 cycle
   \   00000D A9                    MOVW      AX, [DE]           ;; 1 cycle
   \   00000E 16                    MOVW      HL, AX             ;; 1 cycle
   \   00000F AC46                  MOVW      AX, [HL+0x46]      ;; 1 cycle
   \   000011 35                    XCHW      AX, DE             ;; 1 cycle
   \   000012 CEFC00                MOV       CS, #0x0           ;; 1 cycle
   \   000015 61EA                  CALL      DE                 ;; 3 cycles
   \   000017 1002                  ADDW      SP, #0x2           ;; 1 cycle
   \   000019                       ; ------------------------------------- Block: 19 cycles
   \   000019                       ; ------------------------------------- Total: 19 cycles
   \   000019                       REQUIRE ?CLRL78_V1_0_L00
   \   000019                       REQUIRE ?Subroutine9
   \   000019                       ; // Fall through to label ?Subroutine9
    165          }

   \                                 In  segment CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000 C4                    POP       DE                 ;; 1 cycle
   \   000001 ED....                BR        N:??Subroutine14_0  ;; 3 cycles
   \   000004                       ; ------------------------------------- Block: 4 cycles
   \   000004                       ; ------------------------------------- Total: 4 cycles
   \   000004                       REQUIRE ?CLRL78_V1_0_L00
    166          
    167          /******************************************************************************
    168          * ID : 3.1
    169          * Outline : GlyphGetStatus
    170          * Include : Glyph.h
    171          * Function Name: GlyphGetStatus
    172          * Description : Returns the status.
    173          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    174          *          : aStatus - GLYPH_STATUS_BUSY or GLYPH_STATUS_READY
    175          * Return Value : 0=success, not 0= error
    176          * Calling Functions : main
    177          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    178          T_glyphError GlyphGetStatus(T_glyphHandle aHandle, T_glyphStatusBits *aStatus)
   \                     GlyphGetStatus:
    179          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 0
   \   000000 C5                    PUSH      DE                 ;; 1 cycle
   \   000001                       ; Auto size: 0
   \   000001 16                    MOVW      HL, AX             ;; 1 cycle
    180              T_glyphWorkspace *p_glyph = (T_glyphWorkspace *)aHandle;
    181          
    182              return p_glyph->iLCDAPI->iRead(aHandle, GLYPH_STATUS, (uint32_t *)aStatus) ;
   \   000002 F6                    CLRW      AX                 ;; 1 cycle
   \   000003 C1                    PUSH      AX                 ;; 1 cycle
   \   000004                       ; ------------------------------------- Block: 4 cycles
   \   000004                       ; ------------------------------------- Total: 4 cycles
   \   000004                       REQUIRE ?CLRL78_V1_0_L00
   \   000004                       REQUIRE ?Subroutine1
   \   000004                       ; // Fall through to label ?Subroutine1
    183          }

   \                                 In  segment CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000 C1                    PUSH      AX                 ;; 1 cycle
   \   000001 C7                    PUSH      HL                 ;; 1 cycle
   \   000002 C4                    POP       DE                 ;; 1 cycle
   \   000003 AB                    MOVW      AX, [HL]           ;; 1 cycle
   \   000004 35                    XCHW      AX, DE             ;; 1 cycle
   \   000005 C5                    PUSH      DE                 ;; 1 cycle
   \   000006 C6                    POP       HL                 ;; 1 cycle
   \   000007 14                    MOVW      DE, AX             ;; 1 cycle
   \   000008 AC46                  MOVW      AX, [HL+0x46]      ;; 1 cycle
   \   00000A 35                    XCHW      AX, DE             ;; 1 cycle
   \   00000B CEFC00                MOV       CS, #0x0           ;; 1 cycle
   \   00000E 61EA                  CALL      DE                 ;; 3 cycles
   \   000010 C4                    POP       DE                 ;; 1 cycle
   \   000011 D7                    RET                          ;; 6 cycles
   \   000012                       ; ------------------------------------- Block: 21 cycles
   \   000012                       ; ------------------------------------- Total: 21 cycles
   \   000012                       REQUIRE ?CLRL78_V1_0_L00
    184          
    185          /******************************************************************************
    186          * ID : 4.0
    187          * Outline : GlyphSetX
    188          * Include : Glyph.h
    189          * Function Name: GlyphSetX
    190          * Description : Sets the value of the X position in the given Glyph Handle.
    191          * This position is used as the left position of the next Glyph on the screen.
    192          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    193          *          : aX - The given X position.
    194          * Return Value : 0=success, not 0= error
    195          * Calling Functions : main
    196          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    197          T_glyphError GlyphSetX(T_glyphHandle aHandle, uint32_t aX)
   \                     GlyphSetX:
    198          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 4
   \   000000 C3                    PUSH      BC                 ;; 1 cycle
   \   000001 C5                    PUSH      DE                 ;; 1 cycle
   \   000002                       ; Auto size: 0
   \   000002 14                    MOVW      DE, AX             ;; 1 cycle
    199              T_glyphWorkspace *p_glyph = (T_glyphWorkspace *)aHandle;
    200          
    201              return p_glyph->iLCDAPI->iWrite(aHandle, GLYPH_CHAR_X, aX);
   \   000003 A80A                  MOVW      AX, [SP+0x0A]      ;; 1 cycle
   \   000005 12                    MOVW      BC, AX             ;; 1 cycle
   \   000006 A808                  MOVW      AX, [SP+0x08]      ;; 1 cycle
   \   000008 C3                    PUSH      BC                 ;; 1 cycle
   \   000009 C1                    PUSH      AX                 ;; 1 cycle
   \   00000A F6                    CLRW      AX                 ;; 1 cycle
   \   00000B C1                    PUSH      AX                 ;; 1 cycle
   \   00000C E6                    ONEW      AX                 ;; 1 cycle
   \   00000D ED....                BR        N:?Subroutine0     ;; 3 cycles
   \   000010                       ; ------------------------------------- Block: 14 cycles
   \   000010                       ; ------------------------------------- Total: 14 cycles
   \   000010                       REQUIRE ?CLRL78_V1_0_L00
    202          }

   \                                 In  segment CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000 C1                    PUSH      AX                 ;; 1 cycle
   \   000001 C5                    PUSH      DE                 ;; 1 cycle
   \   000002 C6                    POP       HL                 ;; 1 cycle
   \   000003 FD....                CALL      N:?Subroutine7     ;; 3 cycles
   \   000006                       ; ------------------------------------- Block: 6 cycles
   \                     ??CrossCallReturnLabel_21:
   \   000006 61DA                  CALL      BC                 ;; 3 cycles
   \   000008                       ; ------------------------------------- Block: 3 cycles
   \   000008                       ; ------------------------------------- Total: 9 cycles
   \   000008                       REQUIRE ?CLRL78_V1_0_L00
   \   000008                       REQUIRE ??Subroutine13_0
   \   000008                       ; // Fall through to label ??Subroutine13_0
    203          
    204          /******************************************************************************
    205          * ID : 5.0
    206          * Outline : GlyphSetY
    207          * Include : Glyph.h
    208          * Function Name: GlyphSetY
    209          * Description : Sets the value of the Y position in the given Glyph Handle.
    210          * This position is used as the left position of the next Glyph on the screen.
    211          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    212          *          : aY - The given Y position.
    213          * Return Value : 0=success, not 0= error
    214          * Calling Functions : main
    215          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    216          T_glyphError GlyphSetY(T_glyphHandle aHandle, uint32_t aY)
   \                     GlyphSetY:
    217          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 4
   \   000000 C3                    PUSH      BC                 ;; 1 cycle
   \   000001 C5                    PUSH      DE                 ;; 1 cycle
   \   000002                       ; Auto size: 0
   \   000002 14                    MOVW      DE, AX             ;; 1 cycle
    218              T_glyphWorkspace *p_glyph = (T_glyphWorkspace *)aHandle;
    219          
    220              return p_glyph->iLCDAPI->iWrite(aHandle, GLYPH_CHAR_Y, aY);
   \   000003 A80A                  MOVW      AX, [SP+0x0A]      ;; 1 cycle
   \   000005 12                    MOVW      BC, AX             ;; 1 cycle
   \   000006 A808                  MOVW      AX, [SP+0x08]      ;; 1 cycle
   \   000008 C3                    PUSH      BC                 ;; 1 cycle
   \   000009 C1                    PUSH      AX                 ;; 1 cycle
   \   00000A F6                    CLRW      AX                 ;; 1 cycle
   \   00000B C1                    PUSH      AX                 ;; 1 cycle
   \   00000C A1                    INCW      AX                 ;; 1 cycle
   \   00000D A1                    INCW      AX                 ;; 1 cycle
   \   00000E ED....                BR        N:?Subroutine0     ;; 3 cycles
   \   000011                       ; ------------------------------------- Block: 15 cycles
   \   000011                       ; ------------------------------------- Total: 15 cycles
   \   000011                       REQUIRE ?CLRL78_V1_0_L00
    221          }
    222          
    223          /******************************************************************************
    224          * ID : 6.0
    225          * Outline : GlyphSetXY
    226          * Include : Glyph.h
    227          * Function Name: GlyphSetXY
    228          * Description : Sets the value of the X and Y positions in the given Glyph
    229          * Handle.  This position is used as the top left position of the next Glyph
    230          * on the screen.
    231          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    232          *          : aX - The given X position.
    233          *          : aY - The given Y position.
    234          * Return Value : 0=success, not 0= error
    235          * Calling Functions : main
    236          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    237          T_glyphError GlyphSetXY(T_glyphHandle aHandle, uint32_t aX, uint32_t aY)
   \                     GlyphSetXY:
    238          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 8
   \   000000 C3                    PUSH      BC                 ;; 1 cycle
   \   000001 C5                    PUSH      DE                 ;; 1 cycle
   \   000002                       ; Auto size: 0
   \   000002 14                    MOVW      DE, AX             ;; 1 cycle
    239              T_glyphWorkspace *p_glyph = (T_glyphWorkspace *)aHandle;
    240              T_glyphError error ;
    241          
    242              error = p_glyph->iLCDAPI->iWrite(aHandle, GLYPH_CHAR_X, aX);
   \   000003 A80A                  MOVW      AX, [SP+0x0A]      ;; 1 cycle
   \   000005 12                    MOVW      BC, AX             ;; 1 cycle
   \   000006 A808                  MOVW      AX, [SP+0x08]      ;; 1 cycle
   \   000008 C3                    PUSH      BC                 ;; 1 cycle
   \   000009 C1                    PUSH      AX                 ;; 1 cycle
   \   00000A F6                    CLRW      AX                 ;; 1 cycle
   \   00000B C1                    PUSH      AX                 ;; 1 cycle
   \   00000C E6                    ONEW      AX                 ;; 1 cycle
   \   00000D C1                    PUSH      AX                 ;; 1 cycle
   \   00000E 15                    MOVW      AX, DE             ;; 1 cycle
   \   00000F C1                    PUSH      AX                 ;; 1 cycle
   \   000010 FD....                CALL      N:?Subroutine8     ;; 3 cycles
   \   000013                       ; ------------------------------------- Block: 17 cycles
   \                     ??CrossCallReturnLabel_9:
   \   000013 C0                    POP       AX                 ;; 1 cycle
   \   000014 61DA                  CALL      BC                 ;; 3 cycles
    243              if (error == GLYPH_ERROR_NONE)
   \   000016 D1                    CMP0      A                  ;; 1 cycle
   \   000017 DF13                  BNZ       ??GlyphSetContrastBoost_2  ;; 4 cycles
   \   000019                       ; ------------------------------------- Block: 9 cycles
    244              {
    245                  error = p_glyph->iLCDAPI->iWrite(aHandle, GLYPH_CHAR_Y, aY);
   \   000019 A80E                  MOVW      AX, [SP+0x0E]      ;; 1 cycle
   \   00001B 12                    MOVW      BC, AX             ;; 1 cycle
   \   00001C A80C                  MOVW      AX, [SP+0x0C]      ;; 1 cycle
   \   00001E C3                    PUSH      BC                 ;; 1 cycle
   \   00001F C1                    PUSH      AX                 ;; 1 cycle
   \   000020 F6                    CLRW      AX                 ;; 1 cycle
   \   000021 C1                    PUSH      AX                 ;; 1 cycle
   \   000022 A1                    INCW      AX                 ;; 1 cycle
   \   000023 A1                    INCW      AX                 ;; 1 cycle
   \   000024 C1                    PUSH      AX                 ;; 1 cycle
   \   000025 C5                    PUSH      DE                 ;; 1 cycle
   \   000026 C6                    POP       HL                 ;; 1 cycle
   \   000027 FD....                CALL      N:?Subroutine7     ;; 3 cycles
   \   00002A                       ; ------------------------------------- Block: 15 cycles
    246              }
   \                     ??CrossCallReturnLabel_20:
   \   00002A 61DA                  CALL      BC                 ;; 3 cycles
   \   00002C                       ; ------------------------------------- Block: 3 cycles
    247          
    248              return error ;
   \                     ??GlyphSetContrastBoost_2:
   \   00002C ED....                BR        N:?Subroutine4     ;; 3 cycles
   \   00002F                       ; ------------------------------------- Block: 3 cycles
   \   00002F                       ; ------------------------------------- Total: 47 cycles
   \   00002F                       REQUIRE ?CLRL78_V1_0_L00
    249          }

   \                                 In  segment CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000 A9                    MOVW      AX, [DE]           ;; 1 cycle
   \   000001                       ; ------------------------------------- Block: 1 cycles
   \   000001                       ; ------------------------------------- Total: 1 cycles
   \   000001                       REQUIRE ?CLRL78_V1_0_L00
   \   000001                       REQUIRE ??Subroutine10_0
   \   000001                       ; // Fall through to label ??Subroutine10_0

   \                                 In  segment CODE, align 1, keep-with-next
   \                     ??Subroutine10_0:
   \   000000 16                    MOVW      HL, AX             ;; 1 cycle
   \   000001 AC48                  MOVW      AX, [HL+0x48]      ;; 1 cycle
   \   000003                       ; ------------------------------------- Block: 2 cycles
   \   000003                       ; ------------------------------------- Total: 2 cycles
   \   000003                       REQUIRE ?CLRL78_V1_0_L00
   \   000003                       REQUIRE ??Subroutine11_0
   \   000003                       ; // Fall through to label ??Subroutine11_0
    250          
    251          /******************************************************************************
    252          * ID : 7.0
    253          * Outline : GlyphGetXY
    254          * Include : Glyph.h
    255          * Function Name: GlyphGetXY
    256          * Description : Gets the value of the X and Y positions in the given Glyph
    257          * Handle. The filled values are the current top left position of the next
    258          * character to be placed onto the screen.
    259          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    260          *          : aX - The X position to obtain.
    261          *          : aY - The Y position to obtain.
    262          * Return Value : 0=success, not 0= error
    263          * Calling Functions : main
    264          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    265          T_glyphError GlyphGetXY(T_glyphHandle aHandle, uint32_t *aX, uint32_t *aY)
   \                     GlyphGetXY:
    266          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 0
   \   000000 C1                    PUSH      AX                 ;; 1 cycle
   \   000001 C5                    PUSH      DE                 ;; 1 cycle
   \   000002                       ; Auto size: 4
    267              T_glyphWorkspace *p_glyph = (T_glyphWorkspace *)aHandle;
    268              T_glyphError error ;
    269          
    270              error = p_glyph->iLCDAPI->iRead(aHandle, GLYPH_CHAR_X, aX);
   \   000002 F6                    CLRW      AX                 ;; 1 cycle
   \   000003 C1                    PUSH      AX                 ;; 1 cycle
   \   000004 E6                    ONEW      AX                 ;; 1 cycle
   \   000005 C1                    PUSH      AX                 ;; 1 cycle
   \   000006 A806                  MOVW      AX, [SP+0x06]      ;; 1 cycle
   \   000008 C3                    PUSH      BC                 ;; 1 cycle
   \   000009 FD....                CALL      N:?Subroutine6     ;; 3 cycles
   \   00000C                       ; ------------------------------------- Block: 11 cycles
   \                     ??CrossCallReturnLabel_0:
   \   00000C C2                    POP       BC                 ;; 1 cycle
   \   00000D 61FA                  CALL      HL                 ;; 3 cycles
    271              if (error == GLYPH_ERROR_NONE)
   \   00000F D1                    CMP0      A                  ;; 1 cycle
   \   000010 DF11                  BNZ       ??GlyphSetContrastBoost_3  ;; 4 cycles
   \   000012                       ; ------------------------------------- Block: 9 cycles
    272              {
    273                  error = p_glyph->iLCDAPI->iRead(aHandle, GLYPH_CHAR_Y, aY);
   \   000012 F6                    CLRW      AX                 ;; 1 cycle
   \   000013 C1                    PUSH      AX                 ;; 1 cycle
   \   000014 A1                    INCW      AX                 ;; 1 cycle
   \   000015 A1                    INCW      AX                 ;; 1 cycle
   \   000016 C1                    PUSH      AX                 ;; 1 cycle
   \   000017 A804                  MOVW      AX, [SP+0x04]      ;; 1 cycle
   \   000019 12                    MOVW      BC, AX             ;; 1 cycle
   \   00001A A806                  MOVW      AX, [SP+0x06]      ;; 1 cycle
   \   00001C C3                    PUSH      BC                 ;; 1 cycle
   \   00001D FD....                CALL      N:?Subroutine6     ;; 3 cycles
   \   000020                       ; ------------------------------------- Block: 12 cycles
    274              }
   \                     ??CrossCallReturnLabel_1:
   \   000020 C2                    POP       BC                 ;; 1 cycle
   \   000021 61FA                  CALL      HL                 ;; 3 cycles
   \   000023                       ; ------------------------------------- Block: 4 cycles
    275          
    276              return error ;
   \                     ??GlyphSetContrastBoost_3:
   \   000023 1004                  ADDW      SP, #0x4           ;; 1 cycle
   \   000025 D7                    RET                          ;; 6 cycles
   \   000026                       ; ------------------------------------- Block: 7 cycles
   \   000026                       ; ------------------------------------- Total: 43 cycles
   \   000026                       REQUIRE ?CLRL78_V1_0_L00
    277          }

   \                                 In  segment CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000 12                    MOVW      BC, AX             ;; 1 cycle
   \   000001 16                    MOVW      HL, AX             ;; 1 cycle
   \   000002 AB                    MOVW      AX, [HL]           ;; 1 cycle
   \   000003 14                    MOVW      DE, AX             ;; 1 cycle
   \   000004 AA46                  MOVW      AX, [DE+0x46]      ;; 1 cycle
   \   000006 16                    MOVW      HL, AX             ;; 1 cycle
   \   000007 CEFC00                MOV       CS, #0x0           ;; 1 cycle
   \   00000A 13                    MOVW      AX, BC             ;; 1 cycle
   \   00000B D7                    RET                          ;; 6 cycles
   \   00000C                       ; ------------------------------------- Block: 14 cycles
   \   00000C                       ; ------------------------------------- Total: 14 cycles
   \   00000C                       REQUIRE ?CLRL78_V1_0_L00
    278          
    279          /******************************************************************************
    280          * ID : 8.0
    281          * Outline : GlyphSetFont
    282          * Include : Glyph.h
    283          * Function Name: GlyphSetFont
    284          * Description : Set a selected font value from the font enumeration to be used as the
    285          * next font for the next character placed onto the screen.  This font will
    286          * stay set for every character from now on until you decide to set it again.
    287          * 
    288          * The font must have been previously turned on before compile time.  Fonts
    289          * can be turned on and off and then recompiled using the following file:
    290          * GlyphUseFont.h
    291          * which is to be stored inside of your project root directory.
    292          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    293          *          : aFont - A value from the Font Enumeration.
    294          * Return Value : 0=success, not 0= error
    295          * Calling Functions : main
    296          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    297          T_glyphError GlyphSetFont(T_glyphHandle aHandle, T_glyphFont aFont)
   \                     GlyphSetFont:
    298          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 0
   \   000000 C3                    PUSH      BC                 ;; 1 cycle
   \   000001 C5                    PUSH      DE                 ;; 1 cycle
   \   000002                       ; Auto size: 0
   \   000002 16                    MOVW      HL, AX             ;; 1 cycle
    299              T_glyphWorkspace *p_glyph = (T_glyphWorkspace *)aHandle;
    300           
    301              return p_glyph->iLCDAPI->iWrite(aHandle, GLYPH_FONT, (uint32_t)aFont);
   \   000003 63                    MOV       A, B               ;; 1 cycle
   \   000004 70                    MOV       X, A               ;; 1 cycle
   \   000005 F1                    CLRB      A                  ;; 1 cycle
   \   000006 F7                    CLRW      BC                 ;; 1 cycle
   \   000007 C3                    PUSH      BC                 ;; 1 cycle
   \   000008 C1                    PUSH      AX                 ;; 1 cycle
   \   000009 F6                    CLRW      AX                 ;; 1 cycle
   \   00000A C1                    PUSH      AX                 ;; 1 cycle
   \   00000B 5003                  MOV       X, #0x3            ;; 1 cycle
   \   00000D                       ; ------------------------------------- Block: 12 cycles
   \   00000D                       ; ------------------------------------- Total: 12 cycles
   \   00000D                       REQUIRE ?CLRL78_V1_0_L00
   \   00000D                       REQUIRE ?Subroutine2
   \   00000D                       ; // Fall through to label ?Subroutine2
    302          }

   \                                 In  segment CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000 C1                    PUSH      AX                 ;; 1 cycle
   \   000001 C7                    PUSH      HL                 ;; 1 cycle
   \   000002 C4                    POP       DE                 ;; 1 cycle
   \   000003 AB                    MOVW      AX, [HL]           ;; 1 cycle
   \   000004 FD....                CALL      N:??Subroutine10_0  ;; 3 cycles
   \   000007                       ; ------------------------------------- Block: 7 cycles
   \                     ??CrossCallReturnLabel_8:
   \   000007 15                    MOVW      AX, DE             ;; 1 cycle
   \   000008 61DA                  CALL      BC                 ;; 3 cycles
   \   00000A C4                    POP       DE                 ;; 1 cycle
   \   00000B C2                    POP       BC                 ;; 1 cycle
   \   00000C D7                    RET                          ;; 6 cycles
   \   00000D                       ; ------------------------------------- Block: 12 cycles
   \   00000D                       ; ------------------------------------- Total: 19 cycles
   \   00000D                       REQUIRE ?CLRL78_V1_0_L00
    303          
    304          /******************************************************************************
    305          * ID : 9.0
    306          * Outline : GlyphGetFont
    307          * Include : Glyph.h
    308          * Function Name: GlyphGetFont
    309          * Description : Retrieve the enumeration value for the currently selected font.
    310          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    311          *          : aFont - A value from the Font Enumeration retrieved.
    312          * Return Value : 0=success, not 0= error
    313          * Calling Functions : main
    314          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    315          T_glyphError GlyphGetFont(T_glyphHandle aHandle, T_glyphFont *aFont)
   \                     GlyphGetFont:
    316          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 0
   \   000000 C5                    PUSH      DE                 ;; 1 cycle
   \   000001                       ; Auto size: 0
   \   000001 16                    MOVW      HL, AX             ;; 1 cycle
    317              T_glyphWorkspace *p_glyph = (T_glyphWorkspace *)aHandle;
    318          
    319              return p_glyph->iLCDAPI->iRead(aHandle, GLYPH_FONT, (uint32_t *)aFont) ;
   \   000002 F6                    CLRW      AX                 ;; 1 cycle
   \   000003 C1                    PUSH      AX                 ;; 1 cycle
   \   000004 5003                  MOV       X, #0x3            ;; 1 cycle
   \   000006 ED....                BR        N:?Subroutine1     ;; 3 cycles
   \   000009                       ; ------------------------------------- Block: 8 cycles
   \   000009                       ; ------------------------------------- Total: 8 cycles
   \   000009                       REQUIRE ?CLRL78_V1_0_L00
    320          }
    321          
    322          /******************************************************************************
    323          * ID : 10.0
    324          * Outline : GlyphSetDrawMode
    325          * Include : Glyph.h
    326          * Function Name: GlyphSetDrawMode
    327          * Description : The draw mode function. Causes a draw procedure to happen on
    328           * the LCD display.  The procedure is chosen using the T_glyphDrawMode
    329           * enumeration in the Glyph.h file.  Operations are described as:
    330           *   GLYPH_CMD_NOP            -- Does Nothing
    331           *   GLYPH_CMD_SCREEN_CLEAR   -- Clears the screen to blank no pixels on.
    332           *   GLYPH_CMD_SCREEN_INVERT  -- Inverts the entire screen.  Black is white.
    333           *   GLYPH_CMD_SCREEN_REGULAR -- Used on startup to create a normal screen.
    334           *   GLYPH_CMD_SCREEN_SLEEP   -- Puts the LCD in a low power blank screen.
    335           *   GLYPH_CMD_SCREEN_WAKE    -- Restores the LCD from low power sleep.
    336           *   GLYPH_CMD_TEST_PATTERN   -- Displays a test patter.
    337           *   GLYPH_CMD_DRAW_BLOCK     -- Fills X to X2 and Y to Y2
    338           *   GLYPH_CMD_ERASE_BLOCK    -- Erases X to X2 and Y to Y2
    339          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    340          *          : aMode - A value from the Draw mode Enumeration.
    341          * Return Value : 0=success, not 0= error
    342          * Calling Functions : main
    343          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    344          T_glyphError GlyphSetDrawMode(T_glyphHandle aHandle, T_glyphDrawMode aMode)
   \                     GlyphSetDrawMode:
    345          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 0
   \   000000 C3                    PUSH      BC                 ;; 1 cycle
   \   000001 C5                    PUSH      DE                 ;; 1 cycle
   \   000002                       ; Auto size: 0
   \   000002 16                    MOVW      HL, AX             ;; 1 cycle
    346              T_glyphWorkspace *p_glyph = (T_glyphWorkspace *)aHandle;
    347          
    348              return p_glyph->iLCDAPI->iWrite(aHandle, GLYPH_DRAW_CMD, aMode) ;
   \   000003 63                    MOV       A, B               ;; 1 cycle
   \   000004 70                    MOV       X, A               ;; 1 cycle
   \   000005 F1                    CLRB      A                  ;; 1 cycle
   \   000006 F7                    CLRW      BC                 ;; 1 cycle
   \   000007 C3                    PUSH      BC                 ;; 1 cycle
   \   000008 C1                    PUSH      AX                 ;; 1 cycle
   \   000009 F6                    CLRW      AX                 ;; 1 cycle
   \   00000A C1                    PUSH      AX                 ;; 1 cycle
   \   00000B 5005                  MOV       X, #0x5            ;; 1 cycle
   \   00000D ED....                BR        N:?Subroutine2     ;; 3 cycles
   \   000010                       ; ------------------------------------- Block: 15 cycles
   \   000010                       ; ------------------------------------- Total: 15 cycles
   \   000010                       REQUIRE ?CLRL78_V1_0_L00
    349          }
    350          
    351          /******************************************************************************
    352          * ID : 11.0
    353          * Outline : GlyphChar
    354          * Include : Glyph.h
    355          * Function Name: GlyphChar
    356          * Description : Draws the given character in the currently chosen font at
    357          * the current X and Y top left starting pixel on the LCD Screen.
    358          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    359          *          : aChar - The given character.
    360          * Return Value : 0=success, not 0= error
    361          * Calling Functions : main
    362          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    363          T_glyphError GlyphChar(T_glyphHandle aHandle, uint32_t aChar)
   \                     GlyphChar:
    364          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 4
   \   000000 C3                    PUSH      BC                 ;; 1 cycle
   \   000001 C5                    PUSH      DE                 ;; 1 cycle
   \   000002                       ; Auto size: 0
   \   000002 14                    MOVW      DE, AX             ;; 1 cycle
    365              T_glyphWorkspace *p_glyph = (T_glyphWorkspace *)aHandle;
    366          
    367              return p_glyph->iLCDAPI->iWrite(aHandle, GLYPH_DRAW_CHAR, aChar) ;
   \   000003 A80A                  MOVW      AX, [SP+0x0A]      ;; 1 cycle
   \   000005 12                    MOVW      BC, AX             ;; 1 cycle
   \   000006 A808                  MOVW      AX, [SP+0x08]      ;; 1 cycle
   \   000008 C3                    PUSH      BC                 ;; 1 cycle
   \   000009 C1                    PUSH      AX                 ;; 1 cycle
   \   00000A F6                    CLRW      AX                 ;; 1 cycle
   \   00000B C1                    PUSH      AX                 ;; 1 cycle
   \   00000C 5004                  MOV       X, #0x4            ;; 1 cycle
   \   00000E ED....                BR        N:?Subroutine0     ;; 3 cycles
   \   000011                       ; ------------------------------------- Block: 14 cycles
   \   000011                       ; ------------------------------------- Total: 14 cycles
   \   000011                       REQUIRE ?CLRL78_V1_0_L00
    368          }
    369          
    370          /******************************************************************************
    371          * ID : 12.0
    372          * Outline : GlyphString
    373          * Include : Glyph.h
    374          * Function Name: GlyphString
    375          * Description : Draws the given character string in the currently chosen font at the
    376          * current X and Y top left starting pixel on the LCD Screen.
    377          *
    378          * Each character of the string is set from the start of the last character
    379          * by the number of aSpacing given.  So if the font is say 8 pixels wide,
    380          * a good number to use here might be 10 pixels which would give you
    381          * two pixels between each character in the string.
    382          *
    383          * You must count the number of characters you wish to put to the LCD
    384          * screen and enter that number in the aLength variable.
    385          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    386          *          : aString - The given character string.
    387          *          : aLength - The count of characters in the string
    388          *                      you wish to display on the LCD.
    389          * Return Value : 0=success, not 0= error
    390          * Calling Functions : main
    391          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    392          T_glyphError GlyphString(T_glyphHandle aHandle, uint8_t * aString, uint32_t aLength)
   \                     GlyphString:
    393          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 4
   \   000000 C5                    PUSH      DE                 ;; 1 cycle
   \   000001 C1                    PUSH      AX                 ;; 1 cycle
   \   000002                       ; Auto size: 6
   \   000002 2004                  SUBW      SP, #0x4           ;; 1 cycle
   \   000004 C3                    PUSH      BC                 ;; 1 cycle
   \   000005 C4                    POP       DE                 ;; 1 cycle
    394              uint32_t nIndex = 0 ;
   \   000006 F6                    CLRW      AX                 ;; 1 cycle
   \   000007 B800                  MOVW      [SP], AX           ;; 1 cycle
   \   000009 EF1D                  BR        S:??GlyphSetContrastBoost_4  ;; 3 cycles
   \   00000B                       ; ------------------------------------- Block: 10 cycles
    395          
    396              nIndex = 0 ;
    397              while (nIndex < aLength)
    398              {
    399                  GlyphChar(aHandle, aString[nIndex]) ;
   \                     ??GlyphString_0:
   \   00000B C5                    PUSH      DE                 ;; 1 cycle
   \   00000C C6                    POP       HL                 ;; 1 cycle
   \   00000D 07                    ADDW      AX, HL             ;; 1 cycle
   \   00000E 16                    MOVW      HL, AX             ;; 1 cycle
   \   00000F 8B                    MOV       A, [HL]            ;; 1 cycle
   \   000010 70                    MOV       X, A               ;; 1 cycle
   \   000011 F1                    CLRB      A                  ;; 1 cycle
   \   000012 F7                    CLRW      BC                 ;; 1 cycle
   \   000013 C3                    PUSH      BC                 ;; 1 cycle
   \   000014 C1                    PUSH      AX                 ;; 1 cycle
   \   000015 A808                  MOVW      AX, [SP+0x08]      ;; 1 cycle
   \   000017 FD....                CALL      GlyphChar          ;; 3 cycles
    400                  nIndex++ ;
   \   00001A A802                  MOVW      AX, [SP+0x02]      ;; 1 cycle
   \   00001C 12                    MOVW      BC, AX             ;; 1 cycle
   \   00001D A800                  MOVW      AX, [SP]           ;; 1 cycle
   \   00001F 040100                ADDW      AX, #0x1           ;; 1 cycle
   \   000022 61D8                  SKNC
   \   000024 A3                    INCW      BC                 ;; 5 cycles
   \   000025 B800                  MOVW      [SP], AX           ;; 1 cycle
   \   000027 13                    MOVW      AX, BC             ;; 1 cycle
   \   000028                       ; ------------------------------------- Block: 25 cycles
   \                     ??GlyphSetContrastBoost_4:
   \   000028 B802                  MOVW      [SP+0x02], AX      ;; 1 cycle
    401              }
   \   00002A A80E                  MOVW      AX, [SP+0x0E]      ;; 1 cycle
   \   00002C C1                    PUSH      AX                 ;; 1 cycle
   \   00002D A80E                  MOVW      AX, [SP+0x0E]      ;; 1 cycle
   \   00002F C1                    PUSH      AX                 ;; 1 cycle
   \   000030 A806                  MOVW      AX, [SP+0x06]      ;; 1 cycle
   \   000032 12                    MOVW      BC, AX             ;; 1 cycle
   \   000033 A804                  MOVW      AX, [SP+0x04]      ;; 1 cycle
   \   000035 FD....                CALL      N:?UL_CMP_L03      ;; 3 cycles
   \   000038 DCD1                  BC        ??GlyphString_0    ;; 4 cycles
   \   00003A                       ; ------------------------------------- Block: 15 cycles
    402          
    403              return GLYPH_ERROR_NONE ;
   \   00003A F1                    CLRB      A                  ;; 1 cycle
   \   00003B 1006                  ADDW      SP, #0x6           ;; 1 cycle
   \   00003D ED....                BR        N:?Subroutine9     ;; 3 cycles
   \   000040                       ; ------------------------------------- Block: 5 cycles
   \   000040                       ; ------------------------------------- Total: 55 cycles
   \   000040                       REQUIRE ?CLRL78_V1_0_L00
    404          }
    405          
    406          /******************************************************************************
    407          * ID : 13.0
    408          * Outline : GlyphGetVersionInfo
    409          * Include : Glyph.h
    410          * Function Name: GlyphGetVersionInfo
    411          * Description : Fills the given T_glyphVersionInfo with version data.
    412          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    413          *          : aInfo - The given version info structure to fill.
    414          * Return Value : 0=success, not 0= error
    415          * Calling Functions : main
    416          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    417          T_glyphError GlyphGetVersionInfo(T_glyphHandle aHandle, T_glyphVersionInfo *aInfo)
   \                     GlyphGetVersionInfo:
    418          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 0
   \   000000 C5                    PUSH      DE                 ;; 1 cycle
   \   000001 C1                    PUSH      AX                 ;; 1 cycle
   \   000002 C3                    PUSH      BC                 ;; 1 cycle
   \   000003                       ; Auto size: 8
   \   000003 2004                  SUBW      SP, #0x4           ;; 1 cycle
    419              uint32_t nVersionValue = 0 ;
   \   000005 F6                    CLRW      AX                 ;; 1 cycle
   \   000006 B800                  MOVW      [SP], AX           ;; 1 cycle
   \   000008 B802                  MOVW      [SP+0x02], AX      ;; 1 cycle
    420              T_glyphWorkspace *p_glyph = (T_glyphWorkspace *)aHandle;
    421          
    422              if (p_glyph->iLCDAPI->iRead(aHandle, GLYPH_API_MAJOR_VERSION, &nVersionValue) == GLYPH_ERROR_NONE) {
   \   00000A C1                    PUSH      AX                 ;; 1 cycle
   \   00000B 5008                  MOV       X, #0x8            ;; 1 cycle
   \   00000D C1                    PUSH      AX                 ;; 1 cycle
   \   00000E AEF8                  MOVW      AX, SP             ;; 1 cycle
   \   000010 040400                ADDW      AX, #0x4           ;; 1 cycle
   \   000013 12                    MOVW      BC, AX             ;; 1 cycle
   \   000014 A80A                  MOVW      AX, [SP+0x0A]      ;; 1 cycle
   \   000016 C3                    PUSH      BC                 ;; 1 cycle
   \   000017 FD....                CALL      N:?Subroutine6     ;; 3 cycles
   \   00001A                       ; ------------------------------------- Block: 18 cycles
   \                     ??CrossCallReturnLabel_2:
   \   00001A C2                    POP       BC                 ;; 1 cycle
   \   00001B 61FA                  CALL      HL                 ;; 3 cycles
   \   00001D D1                    CMP0      A                  ;; 1 cycle
   \   00001E 61E8                  SKZ                          ;; 4 cycles
   \   000020 ED....                BR        N:??GlyphSetContrastBoost_5  ;; 4 cycles
   \   000023                       ; ------------------------------------- Block: 9 cycles
    423                  aInfo->nVersionAPIMajor = nVersionValue ;
   \   000023 A802                  MOVW      AX, [SP+0x02]      ;; 1 cycle
   \   000025 12                    MOVW      BC, AX             ;; 1 cycle
   \   000026 A800                  MOVW      AX, [SP]           ;; 1 cycle
   \   000028 16                    MOVW      HL, AX             ;; 1 cycle
   \   000029 A804                  MOVW      AX, [SP+0x04]      ;; 1 cycle
   \   00002B 37                    XCHW      AX, HL             ;; 1 cycle
   \   00002C BC64                  MOVW      [HL+0x64], AX      ;; 1 cycle
   \   00002E 13                    MOVW      AX, BC             ;; 1 cycle
   \   00002F BC66                  MOVW      [HL+0x66], AX      ;; 1 cycle
    424                  if (p_glyph->iLCDAPI->iRead(aHandle, GLYPH_API_MINOR_VERSION, &nVersionValue) == GLYPH_ERROR_NONE) {
   \   000031 F6                    CLRW      AX                 ;; 1 cycle
   \   000032 C1                    PUSH      AX                 ;; 1 cycle
   \   000033 5009                  MOV       X, #0x9            ;; 1 cycle
   \   000035 C1                    PUSH      AX                 ;; 1 cycle
   \   000036 AEF8                  MOVW      AX, SP             ;; 1 cycle
   \   000038 040400                ADDW      AX, #0x4           ;; 1 cycle
   \   00003B 12                    MOVW      BC, AX             ;; 1 cycle
   \   00003C A80A                  MOVW      AX, [SP+0x0A]      ;; 1 cycle
   \   00003E C3                    PUSH      BC                 ;; 1 cycle
   \   00003F FD....                CALL      N:?Subroutine6     ;; 3 cycles
   \   000042                       ; ------------------------------------- Block: 21 cycles
   \                     ??CrossCallReturnLabel_3:
   \   000042 C2                    POP       BC                 ;; 1 cycle
   \   000043 61FA                  CALL      HL                 ;; 3 cycles
   \   000045 D1                    CMP0      A                  ;; 1 cycle
   \   000046 61E8                  SKZ                          ;; 4 cycles
   \   000048 ED....                BR        N:??GlyphSetContrastBoost_5  ;; 4 cycles
   \   00004B                       ; ------------------------------------- Block: 9 cycles
    425                      aInfo->nVersionAPIMinor = nVersionValue ;
   \   00004B A802                  MOVW      AX, [SP+0x02]      ;; 1 cycle
   \   00004D 12                    MOVW      BC, AX             ;; 1 cycle
   \   00004E A800                  MOVW      AX, [SP]           ;; 1 cycle
   \   000050 16                    MOVW      HL, AX             ;; 1 cycle
   \   000051 A804                  MOVW      AX, [SP+0x04]      ;; 1 cycle
   \   000053 37                    XCHW      AX, HL             ;; 1 cycle
   \   000054 BC68                  MOVW      [HL+0x68], AX      ;; 1 cycle
   \   000056 13                    MOVW      AX, BC             ;; 1 cycle
   \   000057 BC6A                  MOVW      [HL+0x6A], AX      ;; 1 cycle
    426                      if (p_glyph->iLCDAPI->iRead(aHandle, GLYPH_IMPLEMENTATION_ID, &nVersionValue) == GLYPH_ERROR_NONE) {
   \   000059 F6                    CLRW      AX                 ;; 1 cycle
   \   00005A C1                    PUSH      AX                 ;; 1 cycle
   \   00005B 500A                  MOV       X, #0xA            ;; 1 cycle
   \   00005D C1                    PUSH      AX                 ;; 1 cycle
   \   00005E AEF8                  MOVW      AX, SP             ;; 1 cycle
   \   000060 040400                ADDW      AX, #0x4           ;; 1 cycle
   \   000063 12                    MOVW      BC, AX             ;; 1 cycle
   \   000064 A80A                  MOVW      AX, [SP+0x0A]      ;; 1 cycle
   \   000066 C3                    PUSH      BC                 ;; 1 cycle
   \   000067 FD....                CALL      N:?Subroutine6     ;; 3 cycles
   \   00006A                       ; ------------------------------------- Block: 21 cycles
   \                     ??CrossCallReturnLabel_4:
   \   00006A C2                    POP       BC                 ;; 1 cycle
   \   00006B 61FA                  CALL      HL                 ;; 3 cycles
   \   00006D D1                    CMP0      A                  ;; 1 cycle
   \   00006E 61E8                  SKZ                          ;; 4 cycles
   \   000070 ED....                BR        N:??GlyphSetContrastBoost_5  ;; 4 cycles
   \   000073                       ; ------------------------------------- Block: 9 cycles
    427                          aInfo->nImplementationID = nVersionValue ;
   \   000073 A802                  MOVW      AX, [SP+0x02]      ;; 1 cycle
   \   000075 12                    MOVW      BC, AX             ;; 1 cycle
   \   000076 A800                  MOVW      AX, [SP]           ;; 1 cycle
   \   000078 16                    MOVW      HL, AX             ;; 1 cycle
   \   000079 A804                  MOVW      AX, [SP+0x04]      ;; 1 cycle
   \   00007B 37                    XCHW      AX, HL             ;; 1 cycle
   \   00007C BC74                  MOVW      [HL+0x74], AX      ;; 1 cycle
   \   00007E 13                    MOVW      AX, BC             ;; 1 cycle
   \   00007F BC76                  MOVW      [HL+0x76], AX      ;; 1 cycle
    428                          if (p_glyph->iLCDAPI->iRead(aHandle, GLYPH_IMPL_MAJOR_VERSION, &nVersionValue) == GLYPH_ERROR_NONE) {
   \   000081 F6                    CLRW      AX                 ;; 1 cycle
   \   000082 C1                    PUSH      AX                 ;; 1 cycle
   \   000083 500B                  MOV       X, #0xB            ;; 1 cycle
   \   000085 C1                    PUSH      AX                 ;; 1 cycle
   \   000086 AEF8                  MOVW      AX, SP             ;; 1 cycle
   \   000088 040400                ADDW      AX, #0x4           ;; 1 cycle
   \   00008B 12                    MOVW      BC, AX             ;; 1 cycle
   \   00008C A80A                  MOVW      AX, [SP+0x0A]      ;; 1 cycle
   \   00008E C3                    PUSH      BC                 ;; 1 cycle
   \   00008F FD....                CALL      N:?Subroutine6     ;; 3 cycles
   \   000092                       ; ------------------------------------- Block: 21 cycles
   \                     ??CrossCallReturnLabel_5:
   \   000092 C2                    POP       BC                 ;; 1 cycle
   \   000093 61FA                  CALL      HL                 ;; 3 cycles
   \   000095 D1                    CMP0      A                  ;; 1 cycle
   \   000096 DF5B                  BNZ       ??GlyphSetContrastBoost_5  ;; 4 cycles
   \   000098                       ; ------------------------------------- Block: 9 cycles
    429                              aInfo->nVersionIMPLMajor = nVersionValue ;
   \   000098 A802                  MOVW      AX, [SP+0x02]      ;; 1 cycle
   \   00009A 12                    MOVW      BC, AX             ;; 1 cycle
   \   00009B A800                  MOVW      AX, [SP]           ;; 1 cycle
   \   00009D 16                    MOVW      HL, AX             ;; 1 cycle
   \   00009E A804                  MOVW      AX, [SP+0x04]      ;; 1 cycle
   \   0000A0 37                    XCHW      AX, HL             ;; 1 cycle
   \   0000A1 BC6C                  MOVW      [HL+0x6C], AX      ;; 1 cycle
   \   0000A3 13                    MOVW      AX, BC             ;; 1 cycle
   \   0000A4 BC6E                  MOVW      [HL+0x6E], AX      ;; 1 cycle
    430                              if (p_glyph->iLCDAPI->iRead(aHandle, GLYPH_IMPL_MINOR_VERSION, &nVersionValue) == GLYPH_ERROR_NONE) {
   \   0000A6 F6                    CLRW      AX                 ;; 1 cycle
   \   0000A7 C1                    PUSH      AX                 ;; 1 cycle
   \   0000A8 500C                  MOV       X, #0xC            ;; 1 cycle
   \   0000AA C1                    PUSH      AX                 ;; 1 cycle
   \   0000AB AEF8                  MOVW      AX, SP             ;; 1 cycle
   \   0000AD 040400                ADDW      AX, #0x4           ;; 1 cycle
   \   0000B0 12                    MOVW      BC, AX             ;; 1 cycle
   \   0000B1 A80A                  MOVW      AX, [SP+0x0A]      ;; 1 cycle
   \   0000B3 C3                    PUSH      BC                 ;; 1 cycle
   \   0000B4 FD....                CALL      N:?Subroutine6     ;; 3 cycles
   \   0000B7                       ; ------------------------------------- Block: 21 cycles
   \                     ??CrossCallReturnLabel_6:
   \   0000B7 C2                    POP       BC                 ;; 1 cycle
   \   0000B8 61FA                  CALL      HL                 ;; 3 cycles
   \   0000BA D1                    CMP0      A                  ;; 1 cycle
   \   0000BB DF36                  BNZ       ??GlyphSetContrastBoost_5  ;; 4 cycles
   \   0000BD                       ; ------------------------------------- Block: 9 cycles
    431                                  aInfo->nVersionIMPLMinor = nVersionValue ;
   \   0000BD A802                  MOVW      AX, [SP+0x02]      ;; 1 cycle
   \   0000BF 12                    MOVW      BC, AX             ;; 1 cycle
   \   0000C0 A800                  MOVW      AX, [SP]           ;; 1 cycle
   \   0000C2 16                    MOVW      HL, AX             ;; 1 cycle
   \   0000C3 A804                  MOVW      AX, [SP+0x04]      ;; 1 cycle
   \   0000C5 37                    XCHW      AX, HL             ;; 1 cycle
   \   0000C6 BC70                  MOVW      [HL+0x70], AX      ;; 1 cycle
   \   0000C8 13                    MOVW      AX, BC             ;; 1 cycle
   \   0000C9 BC72                  MOVW      [HL+0x72], AX      ;; 1 cycle
    432                                  sprintf((char *)aInfo->strVersionAPI, "API version %d.0%d",
    433                                          (int)aInfo->nVersionAPIMajor,
    434                                          (int)aInfo->nVersionAPIMinor) ;
   \   0000CB AC68                  MOVW      AX, [HL+0x68]      ;; 1 cycle
   \   0000CD C1                    PUSH      AX                 ;; 1 cycle
   \   0000CE AC64                  MOVW      AX, [HL+0x64]      ;; 1 cycle
   \   0000D0 C1                    PUSH      AX                 ;; 1 cycle
   \   0000D1 32....                MOVW      BC, #`?<Constant "API version %d.0%d">`  ;; 1 cycle
   \   0000D4 17                    MOVW      AX, HL             ;; 1 cycle
   \   0000D5 FD....                CALL      sprintf            ;; 3 cycles
    435                                  sprintf((char *)aInfo->strVersionIMPL, "Implementation version %d.%d%d",
    436                                          (int)aInfo->nVersionIMPLMajor,
    437                                          (int)aInfo->nImplementationID,
    438                                          (int)aInfo->nVersionIMPLMinor) ;
   \   0000D8 A808                  MOVW      AX, [SP+0x08]      ;; 1 cycle
   \   0000DA 16                    MOVW      HL, AX             ;; 1 cycle
   \   0000DB AC70                  MOVW      AX, [HL+0x70]      ;; 1 cycle
   \   0000DD C1                    PUSH      AX                 ;; 1 cycle
   \   0000DE AC74                  MOVW      AX, [HL+0x74]      ;; 1 cycle
   \   0000E0 C1                    PUSH      AX                 ;; 1 cycle
   \   0000E1 AC6C                  MOVW      AX, [HL+0x6C]      ;; 1 cycle
   \   0000E3 C1                    PUSH      AX                 ;; 1 cycle
   \   0000E4 32....                MOVW      BC, #`?<Constant "Implementation versio...">`  ;; 1 cycle
   \   0000E7 17                    MOVW      AX, HL             ;; 1 cycle
   \   0000E8 043200                ADDW      AX, #0x32          ;; 1 cycle
   \   0000EB FD....                CALL      sprintf            ;; 3 cycles
    439          
    440                                  return GLYPH_ERROR_NONE ;
   \   0000EE F1                    CLRB      A                  ;; 1 cycle
   \   0000EF 100A                  ADDW      SP, #0xA           ;; 1 cycle
   \   0000F1 EF01                  BR        S:??GlyphSetContrastBoost_6  ;; 3 cycles
   \   0000F3                       ; ------------------------------------- Block: 37 cycles
    441                              }
    442                          }
    443                      }
    444                  }
    445              }
    446          
    447              return GLYPH_ERROR_ILLEGAL_OPERATION ;
   \                     ??GlyphSetContrastBoost_5:
   \   0000F3 E1                    ONEB      A                  ;; 1 cycle
   \   0000F4                       ; ------------------------------------- Block: 1 cycles
   \                     ??GlyphSetContrastBoost_6:
   \   0000F4 1008                  ADDW      SP, #0x8           ;; 1 cycle
   \   0000F6 C4                    POP       DE                 ;; 1 cycle
   \   0000F7 D7                    RET                          ;; 6 cycles
   \   0000F8                       ; ------------------------------------- Block: 8 cycles
   \   0000F8                       ; ------------------------------------- Total: 193 cycles
   \   0000F8                       REQUIRE ?CLRL78_V1_0_L00
    448          }
    449          
    450          /******************************************************************************
    451          * ID : 14.0
    452          * Outline : GlyphClearScreen
    453          * Include : Glyph.h
    454          * Function Name: GlyphClearScreen
    455          * Description : Clears the LCD Screen to white.
    456          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    457          * Return Value : 0=success, not 0= error
    458          * Calling Functions : main
    459          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    460          T_glyphError GlyphClearScreen(T_glyphHandle aHandle)
   \                     GlyphClearScreen:
    461          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 0
   \   000000 C3                    PUSH      BC                 ;; 1 cycle
   \   000001                       ; Auto size: 0
    462              return GlyphSetDrawMode(aHandle, GLYPH_CMD_SCREEN_CLEAR) ;
   \   000001 E3                    ONEB      B                  ;; 1 cycle
   \   000002 ED....                BR        N:?Subroutine3     ;; 3 cycles
   \   000005                       ; ------------------------------------- Block: 5 cycles
   \   000005                       ; ------------------------------------- Total: 5 cycles
   \   000005                       REQUIRE ?CLRL78_V1_0_L00
    463          }

   \                                 In  segment CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000 FD....                CALL      GlyphSetDrawMode   ;; 3 cycles
   \   000003 C2                    POP       BC                 ;; 1 cycle
   \   000004 D7                    RET                          ;; 6 cycles
   \   000005                       ; ------------------------------------- Block: 10 cycles
   \   000005                       ; ------------------------------------- Total: 10 cycles
   \   000005                       REQUIRE ?CLRL78_V1_0_L00
    464          
    465          /******************************************************************************
    466          * ID : 15.0
    467          * Outline : GlyphInvertScreen
    468          * Include : Glyph.h
    469          * Function Name: GlyphInvertScreen
    470          * Description : Inverts every pixel on the screen from white to dark and dark to white.
    471          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    472          * Return Value : 0=success, not 0= error
    473          * Calling Functions : main
    474          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    475          T_glyphError GlyphInvertScreen(T_glyphHandle aHandle)
   \                     GlyphInvertScreen:
    476          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 0
   \   000000 C3                    PUSH      BC                 ;; 1 cycle
   \   000001                       ; Auto size: 0
    477              return GlyphSetDrawMode(aHandle, GLYPH_CMD_SCREEN_INVERT) ;
   \   000001 5302                  MOV       B, #0x2            ;; 1 cycle
   \   000003 ED....                BR        N:?Subroutine3     ;; 3 cycles
   \   000006                       ; ------------------------------------- Block: 5 cycles
   \   000006                       ; ------------------------------------- Total: 5 cycles
   \   000006                       REQUIRE ?CLRL78_V1_0_L00
    478          }
    479          
    480          /******************************************************************************
    481          * ID : 16.0
    482          * Outline : GlyphNormalScreen
    483          * Include : Glyph.h
    484          * Function Name: GlyphNormalScreen
    485          * Description : Sets up the normal LCD Screen right after initialization
    486          * startup.
    487          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    488          * Return Value : 0=success, not 0= error
    489          * Calling Functions : main
    490          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    491          T_glyphError GlyphNormalScreen(T_glyphHandle aHandle)
   \                     GlyphNormalScreen:
    492          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 0
   \   000000 C3                    PUSH      BC                 ;; 1 cycle
   \   000001                       ; Auto size: 0
    493              return GlyphSetDrawMode(aHandle, GLYPH_CMD_SCREEN_REGULAR) ;
   \   000001 5303                  MOV       B, #0x3            ;; 1 cycle
   \   000003 ED....                BR        N:?Subroutine3     ;; 3 cycles
   \   000006                       ; ------------------------------------- Block: 5 cycles
   \   000006                       ; ------------------------------------- Total: 5 cycles
   \   000006                       REQUIRE ?CLRL78_V1_0_L00
    494          }
    495          
    496          /******************************************************************************
    497          * ID : 17.0
    498          * Outline : GlyphSleep
    499          * Include : Glyph.h
    500          * Function Name: GlyphSleep
    501          * Description : Puts the LCD in a low power blank screen.
    502          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    503          * Return Value : 0=success, not 0= error
    504          * Calling Functions : main
    505          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    506          T_glyphError GlyphSleep(T_glyphHandle aHandle)
   \                     GlyphSleep:
    507          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 0
   \   000000 C3                    PUSH      BC                 ;; 1 cycle
   \   000001                       ; Auto size: 0
    508              return GlyphSetDrawMode(aHandle, GLYPH_CMD_SCREEN_SLEEP) ;
   \   000001 5304                  MOV       B, #0x4            ;; 1 cycle
   \   000003                       ; ------------------------------------- Block: 2 cycles
   \   000003                       ; ------------------------------------- Total: 2 cycles
   \   000003                       REQUIRE ?CLRL78_V1_0_L00
   \   000003                       REQUIRE ?Subroutine3
   \   000003                       ; // Fall through to label ?Subroutine3
    509          }
    510          
    511          /******************************************************************************
    512          * ID : 18.0
    513          * Outline : GlyphSleep
    514          * Include : Glyph.h
    515          * Function Name: GlyphSleep
    516          * Description : Takes the LCD out of low power sleep mode and redraws the
    517          * current image.
    518          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    519          * Return Value : 0=success, not 0= error
    520          * Calling Functions : main
    521          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    522          T_glyphError GlyphWake(T_glyphHandle aHandle)
   \                     GlyphWake:
    523          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 0
   \   000000 C3                    PUSH      BC                 ;; 1 cycle
   \   000001                       ; Auto size: 0
    524              return GlyphSetDrawMode(aHandle, GLYPH_CMD_SCREEN_WAKE) ;
   \   000001 5305                  MOV       B, #0x5            ;; 1 cycle
   \   000003 ED....                BR        N:?Subroutine3     ;; 3 cycles
   \   000006                       ; ------------------------------------- Block: 5 cycles
   \   000006                       ; ------------------------------------- Total: 5 cycles
   \   000006                       REQUIRE ?CLRL78_V1_0_L00
    525          }
    526          
    527          /******************************************************************************
    528          * ID : 19.0
    529          * Outline : GlyphDrawTestPattern
    530          * Include : Glyph.h
    531          * Function Name: GlyphDrawTestPattern
    532          * Description : Draws a test image onto the LCD Screen.
    533          * current image.
    534          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    535          * Return Value : 0=success, not 0= error
    536          * Calling Functions : main
    537          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    538          T_glyphError GlyphDrawTestPattern(T_glyphHandle aHandle)
   \                     GlyphDrawTestPattern:
    539          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 0
   \   000000 C3                    PUSH      BC                 ;; 1 cycle
   \   000001                       ; Auto size: 0
    540              return GlyphSetDrawMode(aHandle, GLYPH_CMD_TEST_PATTERN) ;
   \   000001 5306                  MOV       B, #0x6            ;; 1 cycle
   \   000003 ED....                BR        N:?Subroutine3     ;; 3 cycles
   \   000006                       ; ------------------------------------- Block: 5 cycles
   \   000006                       ; ------------------------------------- Total: 5 cycles
   \   000006                       REQUIRE ?CLRL78_V1_0_L00
    541          }
    542          
    543          /******************************************************************************
    544          * ID : 20.0
    545          * Outline : GlyphDrawBlock
    546          * Include : Glyph.h
    547          * Function Name: GlyphDrawBlock
    548          * Description : Draws a set of dark pixels from the X and Y position to the
    549          * X2 and Y2 position.
    550          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    551          *          : aX1 - the given X position.
    552          *          : aY1 - the given Y position.
    553          *          : aX2 - the given X2 position.
    554          *          : aY2 - the given Y2 position.
    555          * Return Value : 0=success, not 0= error
    556          * Calling Functions : main
    557          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    558          T_glyphError GlyphDrawBlock(T_glyphHandle aHandle, uint32_t aX1, uint32_t aY1, uint32_t aX2, uint32_t aY2)
   \                     GlyphDrawBlock:
    559          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 16
   \   000000 C3                    PUSH      BC                 ;; 1 cycle
   \   000001 C5                    PUSH      DE                 ;; 1 cycle
   \   000002                       ; Auto size: 0
   \   000002 14                    MOVW      DE, AX             ;; 1 cycle
    560              T_glyphWorkspace *p_glyph = (T_glyphWorkspace *)aHandle;
    561          
    562              if (p_glyph->iLCDAPI->iWrite(aHandle, GLYPH_CHAR_X, aX1) == GLYPH_ERROR_NONE) {
   \   000003 A80A                  MOVW      AX, [SP+0x0A]      ;; 1 cycle
   \   000005 12                    MOVW      BC, AX             ;; 1 cycle
   \   000006 A808                  MOVW      AX, [SP+0x08]      ;; 1 cycle
   \   000008 C3                    PUSH      BC                 ;; 1 cycle
   \   000009 C1                    PUSH      AX                 ;; 1 cycle
   \   00000A F6                    CLRW      AX                 ;; 1 cycle
   \   00000B C1                    PUSH      AX                 ;; 1 cycle
   \   00000C E6                    ONEW      AX                 ;; 1 cycle
   \   00000D C1                    PUSH      AX                 ;; 1 cycle
   \   00000E 15                    MOVW      AX, DE             ;; 1 cycle
   \   00000F C1                    PUSH      AX                 ;; 1 cycle
   \   000010 FD....                CALL      N:?Subroutine8     ;; 3 cycles
   \   000013                       ; ------------------------------------- Block: 17 cycles
   \                     ??CrossCallReturnLabel_10:
   \   000013 C0                    POP       AX                 ;; 1 cycle
   \   000014 61DA                  CALL      BC                 ;; 3 cycles
   \   000016 D1                    CMP0      A                  ;; 1 cycle
   \   000017 DF4D                  BNZ       ??GlyphSetContrastBoost_7  ;; 4 cycles
   \   000019                       ; ------------------------------------- Block: 9 cycles
    563                  if (p_glyph->iLCDAPI->iWrite(aHandle, GLYPH_CHAR_Y, aY1) == GLYPH_ERROR_NONE) {
   \   000019 A80E                  MOVW      AX, [SP+0x0E]      ;; 1 cycle
   \   00001B 12                    MOVW      BC, AX             ;; 1 cycle
   \   00001C A80C                  MOVW      AX, [SP+0x0C]      ;; 1 cycle
   \   00001E C3                    PUSH      BC                 ;; 1 cycle
   \   00001F C1                    PUSH      AX                 ;; 1 cycle
   \   000020 F6                    CLRW      AX                 ;; 1 cycle
   \   000021 C1                    PUSH      AX                 ;; 1 cycle
   \   000022 A1                    INCW      AX                 ;; 1 cycle
   \   000023 A1                    INCW      AX                 ;; 1 cycle
   \   000024 C1                    PUSH      AX                 ;; 1 cycle
   \   000025 15                    MOVW      AX, DE             ;; 1 cycle
   \   000026 C1                    PUSH      AX                 ;; 1 cycle
   \   000027 FD....                CALL      N:?Subroutine8     ;; 3 cycles
   \   00002A                       ; ------------------------------------- Block: 15 cycles
   \                     ??CrossCallReturnLabel_11:
   \   00002A C0                    POP       AX                 ;; 1 cycle
   \   00002B 61DA                  CALL      BC                 ;; 3 cycles
   \   00002D D1                    CMP0      A                  ;; 1 cycle
   \   00002E DF36                  BNZ       ??GlyphSetContrastBoost_7  ;; 4 cycles
   \   000030                       ; ------------------------------------- Block: 9 cycles
    564                      if (p_glyph->iLCDAPI->iWrite(aHandle, GLYPH_CHAR_X2, aX2) == GLYPH_ERROR_NONE) {
   \   000030 A812                  MOVW      AX, [SP+0x12]      ;; 1 cycle
   \   000032 12                    MOVW      BC, AX             ;; 1 cycle
   \   000033 A810                  MOVW      AX, [SP+0x10]      ;; 1 cycle
   \   000035 C3                    PUSH      BC                 ;; 1 cycle
   \   000036 C1                    PUSH      AX                 ;; 1 cycle
   \   000037 F6                    CLRW      AX                 ;; 1 cycle
   \   000038 C1                    PUSH      AX                 ;; 1 cycle
   \   000039 500D                  MOV       X, #0xD            ;; 1 cycle
   \   00003B C1                    PUSH      AX                 ;; 1 cycle
   \   00003C 15                    MOVW      AX, DE             ;; 1 cycle
   \   00003D C1                    PUSH      AX                 ;; 1 cycle
   \   00003E FD....                CALL      N:?Subroutine8     ;; 3 cycles
   \   000041                       ; ------------------------------------- Block: 14 cycles
   \                     ??CrossCallReturnLabel_12:
   \   000041 C0                    POP       AX                 ;; 1 cycle
   \   000042 61DA                  CALL      BC                 ;; 3 cycles
   \   000044 D1                    CMP0      A                  ;; 1 cycle
   \   000045 DF1F                  BNZ       ??GlyphSetContrastBoost_7  ;; 4 cycles
   \   000047                       ; ------------------------------------- Block: 9 cycles
    565                          if (p_glyph->iLCDAPI->iWrite(aHandle, GLYPH_CHAR_Y2, aY2) == GLYPH_ERROR_NONE) {
   \   000047 A816                  MOVW      AX, [SP+0x16]      ;; 1 cycle
   \   000049 12                    MOVW      BC, AX             ;; 1 cycle
   \   00004A A814                  MOVW      AX, [SP+0x14]      ;; 1 cycle
   \   00004C C3                    PUSH      BC                 ;; 1 cycle
   \   00004D C1                    PUSH      AX                 ;; 1 cycle
   \   00004E F6                    CLRW      AX                 ;; 1 cycle
   \   00004F C1                    PUSH      AX                 ;; 1 cycle
   \   000050 500E                  MOV       X, #0xE            ;; 1 cycle
   \   000052 C1                    PUSH      AX                 ;; 1 cycle
   \   000053 15                    MOVW      AX, DE             ;; 1 cycle
   \   000054 C1                    PUSH      AX                 ;; 1 cycle
   \   000055 FD....                CALL      N:?Subroutine8     ;; 3 cycles
   \   000058                       ; ------------------------------------- Block: 14 cycles
   \                     ??CrossCallReturnLabel_13:
   \   000058 C0                    POP       AX                 ;; 1 cycle
   \   000059 61DA                  CALL      BC                 ;; 3 cycles
   \   00005B D1                    CMP0      A                  ;; 1 cycle
   \   00005C DF08                  BNZ       ??GlyphSetContrastBoost_7  ;; 4 cycles
   \   00005E                       ; ------------------------------------- Block: 9 cycles
    566                              return GlyphSetDrawMode(aHandle, GLYPH_CMD_DRAW_BLOCK) ;
   \   00005E 5307                  MOV       B, #0x7            ;; 1 cycle
   \   000060 15                    MOVW      AX, DE             ;; 1 cycle
   \   000061 FD....                CALL      GlyphSetDrawMode   ;; 3 cycles
   \   000064 EF01                  BR        S:??GlyphSetContrastBoost_8  ;; 3 cycles
   \   000066                       ; ------------------------------------- Block: 8 cycles
    567                          }
    568                      }
    569                  }
    570              }
    571          
    572              return GLYPH_ERROR_ILLEGAL_OPERATION ;
   \                     ??GlyphSetContrastBoost_7:
   \   000066 E1                    ONEB      A                  ;; 1 cycle
   \   000067                       ; ------------------------------------- Block: 1 cycles
   \                     ??GlyphSetContrastBoost_8:
   \   000067                       REQUIRE ?CLRL78_V1_0_L00
   \   000067                       REQUIRE ?Subroutine5
   \   000067                       ; // Fall through to label ?Subroutine5
    573          }

   \                                 In  segment CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000 C4                    POP       DE                 ;; 1 cycle
   \   000001 C2                    POP       BC                 ;; 1 cycle
   \   000002 FD....                CALL      N:?FUNC_LEAVE_L06
   \   000005 1000                  DW        0x10               ;; 3 cycles
   \   000007                       ; ------------------------------------- Block: 5 cycles
   \   000007                       ; ------------------------------------- Total: 5 cycles
   \   000007                       REQUIRE ?CLRL78_V1_0_L00
    574          
    575          /******************************************************************************
    576          * ID : 21.0
    577          * Outline : GlyphEraseBlock
    578          * Include : Glyph.h
    579          * Function Name: GlyphEraseBlock
    580          * Description : Clears to a set of white pixels from the X and Y position to the
    581          * X2 and Y2 position.
    582          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    583          *          : aX1 - the given X position.
    584          *          : aY1 - the given Y position.
    585          *          : aX2 - the given X2 position.
    586          *          : aY2 - the given Y2 position.
    587          * Return Value : 0=success, not 0= error
    588          * Calling Functions : main
    589          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    590          T_glyphError GlyphEraseBlock(T_glyphHandle aHandle, uint32_t aX1, uint32_t aY1, uint32_t aX2, uint32_t aY2)
   \                     GlyphEraseBlock:
    591          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 16
   \   000000 C3                    PUSH      BC                 ;; 1 cycle
   \   000001 C5                    PUSH      DE                 ;; 1 cycle
   \   000002                       ; Auto size: 0
   \   000002 14                    MOVW      DE, AX             ;; 1 cycle
    592              T_glyphWorkspace *p_glyph = (T_glyphWorkspace *)aHandle;
    593          
    594              if (p_glyph->iLCDAPI->iWrite(aHandle, GLYPH_CHAR_X, aX1) == GLYPH_ERROR_NONE) {
   \   000003 A80A                  MOVW      AX, [SP+0x0A]      ;; 1 cycle
   \   000005 12                    MOVW      BC, AX             ;; 1 cycle
   \   000006 A808                  MOVW      AX, [SP+0x08]      ;; 1 cycle
   \   000008 C3                    PUSH      BC                 ;; 1 cycle
   \   000009 C1                    PUSH      AX                 ;; 1 cycle
   \   00000A F6                    CLRW      AX                 ;; 1 cycle
   \   00000B C1                    PUSH      AX                 ;; 1 cycle
   \   00000C E6                    ONEW      AX                 ;; 1 cycle
   \   00000D C1                    PUSH      AX                 ;; 1 cycle
   \   00000E 15                    MOVW      AX, DE             ;; 1 cycle
   \   00000F C1                    PUSH      AX                 ;; 1 cycle
   \   000010 FD....                CALL      N:?Subroutine8     ;; 3 cycles
   \   000013                       ; ------------------------------------- Block: 17 cycles
   \                     ??CrossCallReturnLabel_14:
   \   000013 C0                    POP       AX                 ;; 1 cycle
   \   000014 61DA                  CALL      BC                 ;; 3 cycles
   \   000016 D1                    CMP0      A                  ;; 1 cycle
   \   000017 DF4D                  BNZ       ??GlyphSetContrastBoost_9  ;; 4 cycles
   \   000019                       ; ------------------------------------- Block: 9 cycles
    595                  if (p_glyph->iLCDAPI->iWrite(aHandle, GLYPH_CHAR_Y, aY1) == GLYPH_ERROR_NONE) {
   \   000019 A80E                  MOVW      AX, [SP+0x0E]      ;; 1 cycle
   \   00001B 12                    MOVW      BC, AX             ;; 1 cycle
   \   00001C A80C                  MOVW      AX, [SP+0x0C]      ;; 1 cycle
   \   00001E C3                    PUSH      BC                 ;; 1 cycle
   \   00001F C1                    PUSH      AX                 ;; 1 cycle
   \   000020 F6                    CLRW      AX                 ;; 1 cycle
   \   000021 C1                    PUSH      AX                 ;; 1 cycle
   \   000022 A1                    INCW      AX                 ;; 1 cycle
   \   000023 A1                    INCW      AX                 ;; 1 cycle
   \   000024 C1                    PUSH      AX                 ;; 1 cycle
   \   000025 15                    MOVW      AX, DE             ;; 1 cycle
   \   000026 C1                    PUSH      AX                 ;; 1 cycle
   \   000027 FD....                CALL      N:?Subroutine8     ;; 3 cycles
   \   00002A                       ; ------------------------------------- Block: 15 cycles
   \                     ??CrossCallReturnLabel_15:
   \   00002A C0                    POP       AX                 ;; 1 cycle
   \   00002B 61DA                  CALL      BC                 ;; 3 cycles
   \   00002D D1                    CMP0      A                  ;; 1 cycle
   \   00002E DF36                  BNZ       ??GlyphSetContrastBoost_9  ;; 4 cycles
   \   000030                       ; ------------------------------------- Block: 9 cycles
    596                      if (p_glyph->iLCDAPI->iWrite(aHandle, GLYPH_CHAR_X2, aX2) == GLYPH_ERROR_NONE) {
   \   000030 A812                  MOVW      AX, [SP+0x12]      ;; 1 cycle
   \   000032 12                    MOVW      BC, AX             ;; 1 cycle
   \   000033 A810                  MOVW      AX, [SP+0x10]      ;; 1 cycle
   \   000035 C3                    PUSH      BC                 ;; 1 cycle
   \   000036 C1                    PUSH      AX                 ;; 1 cycle
   \   000037 F6                    CLRW      AX                 ;; 1 cycle
   \   000038 C1                    PUSH      AX                 ;; 1 cycle
   \   000039 500D                  MOV       X, #0xD            ;; 1 cycle
   \   00003B C1                    PUSH      AX                 ;; 1 cycle
   \   00003C 15                    MOVW      AX, DE             ;; 1 cycle
   \   00003D C1                    PUSH      AX                 ;; 1 cycle
   \   00003E FD....                CALL      N:?Subroutine8     ;; 3 cycles
   \   000041                       ; ------------------------------------- Block: 14 cycles
   \                     ??CrossCallReturnLabel_16:
   \   000041 C0                    POP       AX                 ;; 1 cycle
   \   000042 61DA                  CALL      BC                 ;; 3 cycles
   \   000044 D1                    CMP0      A                  ;; 1 cycle
   \   000045 DF1F                  BNZ       ??GlyphSetContrastBoost_9  ;; 4 cycles
   \   000047                       ; ------------------------------------- Block: 9 cycles
    597                          if (p_glyph->iLCDAPI->iWrite(aHandle, GLYPH_CHAR_Y2, aY2) == GLYPH_ERROR_NONE) {
   \   000047 A816                  MOVW      AX, [SP+0x16]      ;; 1 cycle
   \   000049 12                    MOVW      BC, AX             ;; 1 cycle
   \   00004A A814                  MOVW      AX, [SP+0x14]      ;; 1 cycle
   \   00004C C3                    PUSH      BC                 ;; 1 cycle
   \   00004D C1                    PUSH      AX                 ;; 1 cycle
   \   00004E F6                    CLRW      AX                 ;; 1 cycle
   \   00004F C1                    PUSH      AX                 ;; 1 cycle
   \   000050 500E                  MOV       X, #0xE            ;; 1 cycle
   \   000052 C1                    PUSH      AX                 ;; 1 cycle
   \   000053 15                    MOVW      AX, DE             ;; 1 cycle
   \   000054 C1                    PUSH      AX                 ;; 1 cycle
   \   000055 FD....                CALL      N:?Subroutine8     ;; 3 cycles
   \   000058                       ; ------------------------------------- Block: 14 cycles
   \                     ??CrossCallReturnLabel_17:
   \   000058 C0                    POP       AX                 ;; 1 cycle
   \   000059 61DA                  CALL      BC                 ;; 3 cycles
   \   00005B D1                    CMP0      A                  ;; 1 cycle
   \   00005C DF08                  BNZ       ??GlyphSetContrastBoost_9  ;; 4 cycles
   \   00005E                       ; ------------------------------------- Block: 9 cycles
    598                              return GlyphSetDrawMode(aHandle, GLYPH_CMD_ERASE_BLOCK) ;
   \   00005E 5308                  MOV       B, #0x8            ;; 1 cycle
   \   000060 15                    MOVW      AX, DE             ;; 1 cycle
   \   000061 FD....                CALL      GlyphSetDrawMode   ;; 3 cycles
   \   000064 EF01                  BR        S:??GlyphSetContrastBoost_10  ;; 3 cycles
   \   000066                       ; ------------------------------------- Block: 8 cycles
    599                          }
    600                      }
    601                  }
    602              }
    603          
    604              return GLYPH_ERROR_ILLEGAL_OPERATION ;
   \                     ??GlyphSetContrastBoost_9:
   \   000066 E1                    ONEB      A                  ;; 1 cycle
   \   000067                       ; ------------------------------------- Block: 1 cycles
   \                     ??GlyphSetContrastBoost_10:
   \   000067 ED....                BR        N:?Subroutine5     ;; 3 cycles
   \   00006A                       ; ------------------------------------- Block: 3 cycles
   \   00006A                       ; ------------------------------------- Total: 108 cycles
   \   00006A                       REQUIRE ?CLRL78_V1_0_L00
    605          }
    606          
    607          /******************************************************************************
    608          * ID : 22.0
    609          * Outline : GlyphSetContrast
    610          * Include : Glyph.h
    611          * Function Name: GlyphSetContrast
    612          * Description : Sets the contrast of the LCD Display.  Any Positive number
    613          * is ok. Check the documentation of your LCD and study the LCD Driver Code
    614          * for correct values.  If the number is too large the contrast will not be
    615          * changed.
    616          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    617          *          : nContrast - A Contrast setting value.
    618          * Return Value : 0=success, not 0= error
    619          * Calling Functions : main
    620          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    621          T_glyphError GlyphSetContrast(T_glyphHandle aHandle, int32_t nContrast)
   \                     GlyphSetContrast:
    622          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 4
   \   000000 C3                    PUSH      BC                 ;; 1 cycle
   \   000001 C5                    PUSH      DE                 ;; 1 cycle
   \   000002                       ; Auto size: 0
   \   000002 14                    MOVW      DE, AX             ;; 1 cycle
    623              T_glyphWorkspace *p_glyph = (T_glyphWorkspace *)aHandle;
    624          
    625              return p_glyph->iLCDAPI->iWrite(aHandle, GLYPH_CONTRAST, (uint32_t)nContrast) ;
   \   000003 A80A                  MOVW      AX, [SP+0x0A]      ;; 1 cycle
   \   000005 12                    MOVW      BC, AX             ;; 1 cycle
   \   000006 A808                  MOVW      AX, [SP+0x08]      ;; 1 cycle
   \   000008 C3                    PUSH      BC                 ;; 1 cycle
   \   000009 C1                    PUSH      AX                 ;; 1 cycle
   \   00000A F6                    CLRW      AX                 ;; 1 cycle
   \   00000B C1                    PUSH      AX                 ;; 1 cycle
   \   00000C 5014                  MOV       X, #0x14           ;; 1 cycle
   \   00000E                       ; ------------------------------------- Block: 11 cycles
   \   00000E                       ; ------------------------------------- Total: 11 cycles
   \   00000E                       REQUIRE ?CLRL78_V1_0_L00
   \   00000E                       REQUIRE ?Subroutine0
   \   00000E                       ; // Fall through to label ?Subroutine0
    626          }
    627          
    628          /******************************************************************************
    629          * ID : 23.0
    630          * Outline : GlyphSetContrastBoost
    631          * Include : Glyph.h
    632          * Function Name: GlyphSetContrastBoost
    633          * Description : Sets the boost for the contrast of the LCD Display.  Any
    634          * Positive number is ok.  Check the documentation of your LCD and study the
    635          * LCD Driver Code for correct values.  If the number is too large the contrast
    636          * boost will not be changed.
    637          * Argument : aHandle - the Glyph handle setup by the LCD and Communications.
    638          *          : cContrastBoost - A Contrast Booster setting value.
    639          * Return Value : 0=success, not 0= error
    640          * Calling Functions : main
    641          ******************************************************************************/

   \                                 In  segment CODE, align 1, keep-with-next
    642          T_glyphError GlyphSetContrastBoost(T_glyphHandle aHandle, uint8_t cContrastBoost)
   \                     GlyphSetContrastBoost:
    643          {
   \   000000                       ; * Stack frame (at entry) *
   \   000000                       ; Param size: 0
   \   000000 C3                    PUSH      BC                 ;; 1 cycle
   \   000001 C5                    PUSH      DE                 ;; 1 cycle
   \   000002                       ; Auto size: 0
   \   000002 16                    MOVW      HL, AX             ;; 1 cycle
    644              T_glyphWorkspace *p_glyph = (T_glyphWorkspace *)aHandle;
    645          
    646              return p_glyph->iLCDAPI->iWrite(aHandle, GLYPH_CONTRAST_BOOST, (uint32_t)cContrastBoost) ;
   \   000003 63                    MOV       A, B               ;; 1 cycle
   \   000004 70                    MOV       X, A               ;; 1 cycle
   \   000005 F1                    CLRB      A                  ;; 1 cycle
   \   000006 F7                    CLRW      BC                 ;; 1 cycle
   \   000007 C3                    PUSH      BC                 ;; 1 cycle
   \   000008 C1                    PUSH      AX                 ;; 1 cycle
   \   000009 F6                    CLRW      AX                 ;; 1 cycle
   \   00000A C1                    PUSH      AX                 ;; 1 cycle
   \   00000B 5015                  MOV       X, #0x15           ;; 1 cycle
   \   00000D ED....                BR        N:?Subroutine2     ;; 3 cycles
   \   000010                       ; ------------------------------------- Block: 15 cycles
   \   000010                       ; ------------------------------------- Total: 15 cycles
   \   000010                       REQUIRE ?CLRL78_V1_0_L00
    647          }

   \                                 In  segment NEAR_CONST, align 2
   \                     `?<Constant "API version %d.0%d">`:
   \   000000 415049207665          DB "API version %d.0%d"
   \   000013 00                    DB 0

   \                                 In  segment NEAR_CONST, align 2
   \                     `?<Constant "Implementation versio...">`:
   \   000000 496D706C656D          DB "Implementation version %d.%d%d"
   \   00001F 00                    DB 0

   Maximum stack usage in bytes:

   CSTACK Function
   ------ --------
     16   GlyphChar
       12   -- Indirect call
      2   GlyphClearScreen
        2   -> GlyphSetDrawMode
      8   GlyphClose
        6   -- Indirect call
        6   -> GlyphClearScreen
        6   -> free
     30   GlyphDrawBlock
       12   -- Indirect call
        4   -> GlyphSetDrawMode
      2   GlyphDrawTestPattern
        2   -> GlyphSetDrawMode
     30   GlyphEraseBlock
       12   -- Indirect call
        4   -> GlyphSetDrawMode
      6   GlyphGetFont
        6   -- Indirect call
      6   GlyphGetStatus
        6   -- Indirect call
     20   GlyphGetVersionInfo
       14   -- Indirect call
       14   -> sprintf
       20   -> sprintf
     10   GlyphGetXY
        8   -- Indirect call
      2   GlyphInvertScreen
        2   -> GlyphSetDrawMode
      2   GlyphNormalScreen
        2   -> GlyphSetDrawMode
     16   GlyphOpen
       12   -- Indirect call
       12   -> GlyphCommOpen
       12   -> GlyphLCDOpen
        8   -> malloc
     12   GlyphRead
        8   -- Indirect call
     16   GlyphSetContrast
       12   -- Indirect call
     12   GlyphSetContrastBoost
       12   -- Indirect call
     12   GlyphSetDrawMode
       12   -- Indirect call
     12   GlyphSetFont
       12   -- Indirect call
     16   GlyphSetX
       12   -- Indirect call
     22   GlyphSetXY
       12   -- Indirect call
     16   GlyphSetY
       12   -- Indirect call
      2   GlyphSleep
        2   -> GlyphSetDrawMode
     16   GlyphString
       12   -> GlyphChar
      2   GlyphWake
        2   -> GlyphSetDrawMode
     20   GlyphWrite
       12   -- Indirect call
      0   free
        0   -> __near_free
      0   malloc
        0   -> __near_malloc


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
      20  ?<Constant "API version %d.0%d">
      32  ?<Constant "Implementation versio...">
       3  ??Subroutine10_0
       5  ??Subroutine11_0
       6  ??Subroutine12_0
       2  ??Subroutine13_0
       5  ??Subroutine14_0
       8  ?Subroutine0
      18  ?Subroutine1
      13  ?Subroutine2
       5  ?Subroutine3
       7  ?Subroutine4
       7  ?Subroutine5
      12  ?Subroutine6
       4  ?Subroutine7
       1  ?Subroutine8
       4  ?Subroutine9
      17  GlyphChar
       5  GlyphClearScreen
      58  GlyphClose
     103  GlyphDrawBlock
       6  GlyphDrawTestPattern
     106  GlyphEraseBlock
       9  GlyphGetFont
       4  GlyphGetStatus
     248  GlyphGetVersionInfo
      38  GlyphGetXY
       6  GlyphInvertScreen
       6  GlyphNormalScreen
     100  GlyphOpen
      25  GlyphRead
      14  GlyphSetContrast
      16  GlyphSetContrastBoost
      16  GlyphSetDrawMode
      13  GlyphSetFont
      16  GlyphSetX
      47  GlyphSetXY
      17  GlyphSetY
       3  GlyphSleep
      64  GlyphString
       6  GlyphWake
      24  GlyphWrite
       3  free
       3  malloc

 
 1 073 bytes in segment CODE
    52 bytes in segment NEAR_CONST
 
 1 067 bytes of CODE  memory (+ 6 bytes shared)
    52 bytes of CONST memory

Errors: none
Warnings: none
